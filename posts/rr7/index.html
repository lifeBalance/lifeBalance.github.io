<!DOCTYPE html><!-- This layout has two slots:
    1. For adding additional head tags.
    2. For adding the content of the page.
--><html data-astro-cid-ouamjn2i> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Code Blue - React Router 7</title><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="preload" as="font" href="/fonts/Mona_Sans/MonaSans-VariableFont_wdth,wght.ttf" type="font/ttf" crossorigin="anonymous"><!-- favicon --><link href="/favicon-enso-black.svg" rel="icon" media="(prefers-color-scheme: light)"><link href="/favicon-enso-white.svg" rel="icon" media="(prefers-color-scheme: dark)"><!-- This component has only one slot, where we receive additional tags --> <meta name="description" content="How to use the Framework mode"> <meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.CMTcOisY.js"></script><link href="//pagefind/pagefind-ui.css" rel="stylesheet"><script src="//pagefind/pagefind-ui.js"></script><script src="https://giscus.app/client.js" data-repo="lifeBalance/code-blue-comments" data-repo-id="R_kgDOOJ2hMw" data-category="General" data-category-id="DIC_kwDOOJ2hM84CoIT-" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="dark" data-lang="en" crossorigin="anonymous" async></script><script type="module">document.addEventListener("astro:page-load",()=>{const i=document.querySelector(".burger-btn"),t=document.querySelector(".sidebar"),e=document.createElement("div");e.classList.add("overlay"),document.body.appendChild(e);function n(r){document.querySelectorAll("body a:not(.sidebar a)").forEach(s=>{s.setAttribute("tabindex",r)})}i?.addEventListener("click",()=>{console.log("clicked on burger button"),i.setAttribute("aria-expanded",i.getAttribute("aria-expanded")==="true"?"false":"true"),t&&t.getAttribute("aria-expanded")==="true"?(t.setAttribute("aria-expanded","false"),e.style.transform="translateX(100%)",e.style.opacity="0",e.style.height="0%",e.style.width="0%",e.style.pointerEvents="none",e.style.visibility="hidden",document.body.style.overflow="auto",n("0")):(t&&t.setAttribute("aria-expanded","true"),e.style.transform="translateX(-100%)",e.style.opacity="100%",e.style.height="100%",e.style.width="100%",e.style.pointerEvents="auto",e.style.visibility="visible",document.body.style.overflow="hidden",n("-1"))})});</script><link rel="stylesheet" href="/_astro/_page_.rqtE1Cmd.css">
<style>@media (prefers-color-scheme: dark){.markdown-alert{--color-border-default: #30363d;--color-accent-fg: #58a6ff;--color-accent-emphasis: #1f6feb;--color-danger-fg: #f85149;--color-danger-emphasis: #da3633;--color-attention-fg: #d29922;--color-attention-emphasis: #9e6a03;--color-done-fg: #a371f7;--color-done-emphasis: #8957e5;--color-success-fg: #3fb950;--color-success-emphasis: #238636}}@media (prefers-color-scheme: light){.markdown-alert{--color-border-default: #d0d7de;--color-accent-fg: #0969da;--color-accent-emphasis: #0969da;--color-danger-fg: #d1242f;--color-danger-emphasis: #cf222e;--color-attention-fg: #9a6700;--color-attention-emphasis: #9a6700;--color-done-fg: #8250df;--color-done-emphasis: #8250df;--color-success-fg: #1a7f37;--color-success-emphasis: #1f883d}}.markdown-alert{border-left:.25em solid var(--borderColor-default, var(--color-border-default));color:inherit;margin-bottom:16px;padding:.5rem 1em}.markdown-alert>:last-child{margin-bottom:0!important}.markdown-alert .markdown-alert-title{align-items:center;display:flex;font-size:14px;font-weight:500;line-height:1}.markdown-alert .markdown-alert-title svg.octicon{margin-right:8px!important;margin-right:var(--base-size-8,8px)!important;fill:currentColor}.markdown-alert.markdown-alert-note{border-left-color:var(--borderColor-accent-emphasis,var(--color-accent-emphasis))}.markdown-alert.markdown-alert-note .markdown-alert-title{color:var(--color-accent-fg);color:var(--fgColor-accent,var(--color-accent-fg))}.markdown-alert.markdown-alert-tip{border-left-color:var(--borderColor-success-emphasis,var(--color-success-emphasis))}.markdown-alert.markdown-alert-tip .markdown-alert-title{color:var(--color-success-fg);color:var(--fgColor-success,var(--color-success-fg))}.markdown-alert.markdown-alert-important{border-left-color:var(--borderColor-done-emphasis,var(--color-done-emphasis))}.markdown-alert.markdown-alert-important .markdown-alert-title{color:var(--color-done-fg);color:var(--fgColor-done,var(--color-done-fg))}.markdown-alert.markdown-alert-warning{border-left-color:var(--borderColor-attention-emphasis,var(--color-attention-emphasis))}.markdown-alert.markdown-alert-warning .markdown-alert-title{color:var(--color-attention-fg);color:var(--fgColor-attention,var(--color-attention-fg))}.markdown-alert.markdown-alert-caution{border-left-color:var(--borderColor-danger-emphasis,var(--color-danger-emphasis))}.markdown-alert.markdown-alert-caution .markdown-alert-title{color:var(--color-danger-fg);color:var(--fgColor-danger,var(--color-danger-fg))}.image-container[data-astro-cid-s2c47nbu]{width:100%;aspect-ratio:2.66 / 1;position:relative}.image-container[data-astro-cid-s2c47nbu] img[data-astro-cid-s2c47nbu]{width:100%;height:100%;object-fit:cover;border-radius:4px}.maximize-icon[data-astro-cid-s2c47nbu]{position:absolute;z-index:2;display:flex;align-items:center;justify-content:center;width:3rem;height:3rem;top:.5rem;right:.5rem;cursor:pointer;background-color:var(--col-bg);color:var(--col-text-2);border:1px solid var(--col-text-2);border-radius:50%;font-size:2rem;transition:all .3s ease-in-out;[data-icon]{cursor:pointer;font-size:1.5rem}&:hover{border-color:var(--col-accent-1);color:var(--col-accent-1)}}.metadata[data-astro-cid-wuix5hdf]{display:flex;flex-direction:column;align-items:flex-start;gap:.5rem;font-family:Inter,sans-serif;margin-top:1rem;margin-bottom:1rem;padding-left:1rem}.row[data-astro-cid-wuix5hdf]{display:flex;gap:3rem;align-items:center;color:var(--col-text-2)}.row-item[data-astro-cid-wuix5hdf]:first-child{min-width:11rem}.row-item[data-astro-cid-wuix5hdf]{display:flex;align-items:center;color:var(--col-text-2)}[data-astro-cid-wuix5hdf][data-icon]{color:var(--col-text-2);font-size:1.1rem;margin-right:.7rem}@media (max-width: 480px){.row[data-astro-cid-wuix5hdf]{gap:1rem}.row-item[data-astro-cid-wuix5hdf]:last-child p[data-astro-cid-wuix5hdf]{max-width:12ch;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.row-item[data-astro-cid-wuix5hdf]:first-child{min-width:9rem}}
.giscus[data-astro-cid-h26ly5qj]{margin-bottom:2rem}.giscus-loading[data-astro-cid-h26ly5qj]{text-align:center;font-size:1rem;color:var(--col-text-2)}#toc[data-astro-cid-ukv4ggcy]{position:fixed;top:4rem;width:100%;overflow-y:scroll;scrollbar-width:none;opacity:0;transition:opacity .3s ease}#toc[data-astro-cid-ukv4ggcy][data-hidden=true]{opacity:0;overflow:hidden}#toc[data-astro-cid-ukv4ggcy][data-hidden=false]{opacity:1;overflow-y:auto}#toc-content[data-astro-cid-ukv4ggcy][aria-hidden=false]::-webkit-scrollbar{display:none}#toc[data-astro-cid-ukv4ggcy],#toc-content[data-astro-cid-ukv4ggcy]{background-color:var(--col-overlay);color:var(--col-text-1);z-index:5}#toc-content[data-astro-cid-ukv4ggcy][aria-hidden=false]{opacity:1;height:100vh;overflow-y:auto}#toc-content[data-astro-cid-ukv4ggcy]{opacity:0;height:0;transition:height .3s ease,opacity .3s ease;list-style-type:none;padding-left:0;li{padding:1rem .5rem;color:var(--col-text-2);a:link,a:visited,a:hover,a:focus{color:var(--col-text-2);text-decoration:none;font-size:.9rem}a.active{color:var(--col-accent-1)}}li:first:child{margin-top:1rem}.toc-level-2{margin-left:0}.toc-level-3{margin-left:1.5rem}.toc-level-4{margin-left:3rem}.toc-level-5{margin-left:4.5rem}}header[data-astro-cid-ukv4ggcy]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--col-text-3);border-left:none;border-right:none;#toc-toggle{display:flex;align-items:center;gap:.5rem;font-family:inherit;font-size:1rem;cursor:pointer;color:var(--col-text-2);background:none;border:1px solid var(--col-text-2);border-radius:.25rem;padding:.25rem 1rem;transition:border-color .3s ease}.indicator{display:flex;align-items:center;gap:.9rem;color:var(--col-text-2);span{font-size:.8rem;color:var(--col-text-1);font-weight:500}&:hover #toc-toggle{border-color:var(--col-accent-1)}&:hover [data-icon="ph:caret-right"]{color:var(--col-accent-1)}}.top{display:flex;align-items:center;gap:.5rem;color:var(--col-text-2);cursor:pointer;text-decoration:none;border:1px solid var(--col-text-2);border-radius:50%;padding:.5rem;transition:border-color .3s ease,color .3s ease;&:hover{border-color:var(--col-accent-1);color:var(--col-accent-1)}}}#toc-toggle[data-astro-cid-ukv4ggcy]>[data-astro-cid-ukv4ggcy][data-icon="ph:caret-right"]{display:inline-block;transition:transform .3s ease}#toc[data-astro-cid-ukv4ggcy][aria-expanded=false] #toc-toggle[data-astro-cid-ukv4ggcy]>[data-astro-cid-ukv4ggcy][data-icon="ph:caret-right"]{transform:rotate(0)}#toc[data-astro-cid-ukv4ggcy][aria-expanded=true] #toc-toggle[data-astro-cid-ukv4ggcy]>[data-astro-cid-ukv4ggcy][data-icon="ph:caret-right"]{transform:rotate(90deg)}.img-overlay[data-astro-cid-nds4jzju]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:var(--col-overlay);display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity .3s ease-in-out;z-index:3;padding:2rem}.img-overlay[data-astro-cid-nds4jzju] img[data-astro-cid-nds4jzju]{max-width:90vw;max-height:90vh;width:auto;height:auto;border-radius:8px}.img-overlay[data-astro-cid-nds4jzju][data-visible=true]{opacity:1;pointer-events:auto}.author[data-astro-cid-nds4jzju]{display:flex;align-items:center;gap:.5rem;span{color:var(--col-text-1)}}main[data-astro-cid-egg7nqdx]{display:flex;flex-direction:column;gap:1rem;margin:0 auto;margin-top:4rem;max-width:90%;padding:1rem 0}header[data-astro-cid-egg7nqdx]{display:flex;flex-direction:column;align-items:start;border:none;color:var(--col-text-1);h1{font-size:2.5rem;margin:0}h2{font-size:1.5rem}}.nav-btn[data-astro-cid-egg7nqdx]{padding:2rem 0}@media screen and (min-width: 480px){main[data-astro-cid-egg7nqdx]{max-width:55rem}}
a[data-astro-cid-2es6phr7]:link,a[data-astro-cid-2es6phr7]:visited{color:var(--col-accent-1);text-decoration:none;position:relative}a[data-astro-cid-2es6phr7]:after{content:"";position:absolute;left:0;bottom:-3px;width:100%;height:0;border-bottom:2px dotted var(--col-accent-1);opacity:0;transform:scaleX(0);transform-origin:left;transition:opacity .3s ease,transform .3s ease}a[data-astro-cid-2es6phr7]:hover:after{opacity:1;transform:scaleX(1)}.tags-container[data-astro-cid-pjkakwps]{display:flex;align-items:center;flex-wrap:wrap}.iconify[data-astro-cid-pjkakwps]{color:var(--col-text-1);margin-right:.8rem}.tag[data-astro-cid-pjkakwps]{font-size:.9rem;flex-shrink:0;position:relative;color:var(--col-accent-1);text-decoration:none;margin-right:.2rem}.comma[data-astro-cid-pjkakwps]{color:var(--col-text-2);margin-right:.5rem}.container[data-astro-cid-xy2w5vvd]{display:flex}.container[data-astro-cid-xy2w5vvd].start{justify-content:flex-start}.container[data-astro-cid-xy2w5vvd].end{justify-content:flex-end}.btn[data-astro-cid-xy2w5vvd]{display:flex;align-items:center;gap:.5rem;color:var(--col-text-2);padding:.5rem .7rem;border:1px solid var(--col-text-3);border-radius:5px;box-shadow:4px 4px 0 var(--col-text-3);cursor:pointer;text-decoration:none;transition:border-color .3s ease-in-out,box-shadow .3s ease-in-out}.btn[data-astro-cid-xy2w5vvd]>[data-astro-cid-xy2w5vvd]{transition:color .3s ease-in-out}.btn[data-astro-cid-xy2w5vvd]:hover{box-shadow:2px 2px 0 var(--col-text-1);border-color:var(--col-text-2);color:var(--col-text-2)}.btn[data-astro-cid-xy2w5vvd]:active{box-shadow:none;border-color:var(--col-text-1)}.btn[data-astro-cid-xy2w5vvd]:active>[data-astro-cid-xy2w5vvd]{color:var(--col-text-1)}
</style></head> <body class data-astro-cid-ouamjn2i> <!-- Render hero conditionally (only root route) -->  <nav class="navBar" data-astro-cid-ouamjn2i> <header class="main-header" data-astro-cid-ymhdp2rl> <div class="flex-row-container" data-astro-cid-ymhdp2rl> <a href="/" class="logo" data-astro-cid-ymhdp2rl> <svg width="1.08em" height="1em" class="enso" data-astro-cid-ymhdp2rl="true" data-icon="enso">   <symbol id="ai:local:enso" viewBox="0 0 16818 15612"><path fill="currentColor" d="M8000.95 35.575c-129.04 18.968-334.54 56.904-454.02 85.356-119.47 23.71-234.17 47.42-253.29 52.162-23.89 0-28.67 18.968-14.34 42.678 14.34 23.71-43.01 75.872-129.03 118.55-81.25 37.936-119.48 75.872-81.25 75.872 100.36 4.742-1194.77 569.039-1309.47 569.039-14.34 0-262.85 109.068-544.82 246.588-387.11 184.93-626.06 341.42-970.16 635.42-253.29 218.13-473.13 384.1-482.69 374.62-9.55-14.23-124.25 99.58-253.29 251.33-129.03 147-181.6 227.61-114.7 175.45 62.13-52.16 143.38-123.29 172.05-161.23 33.46-37.93 71.69-56.9 90.8-42.68 38.24 42.68-119.47 275.04-301.08 441.01-86.02 80.61-157.71 170.71-157.71 203.9 0 28.46-23.89 56.91-47.79 56.91-28.67 0-71.69 47.42-95.58 104.32-28.68 61.65-66.91 142.26-90.81 180.2-19.11 37.93-148.15 284.52-277.18 545.33-133.82 260.81-258.07 469.45-281.97 464.71s-43.01 80.62-47.79 194.42c-4.78 189.68-95.58 441.01-143.37 393.59-14.34-14.23 0-118.55 33.45-227.62 33.45-113.8 62.13-275.03 66.91-350.9 9.56-194.43 320.2-810.88 549.59-1104.89 100.36-123.29 119.48-199.16 57.35-199.16-19.11 0-138.59 175.45-267.63 384.1-143.37 241.84-243.73 365.13-267.63 327.2-23.89-37.94-43.01-33.2-62.12 23.71-19.12 42.67-14.34 61.64 14.33 47.42 86.03-52.17 52.57 71.13-90.8 312.97-81.25 147-148.15 218.13-162.49 175.45-19.12-42.68-28.67-37.93-28.67 14.23-4.78 42.68-38.24 104.32-76.47 137.52-38.23 33.19-71.69 94.84-71.69 137.51-4.78 42.68-33.45 137.52-71.68 218.13L1769 5081.05l28.67-165.96c14.34-90.1 66.91-279.78 109.92-412.56 95.59-279.78 52.57-388.84-47.79-132.77-38.23 90.09-90.8 165.97-124.25 165.97-66.91 0-71.69 9.48-286.75 673.36-90.8 284.52-186.39 512.13-205.5 512.13-109.92 0 90.8-744.49 444.45-1626.5 90.81-227.62 148.16-412.55 129.04-412.55-14.34 0-81.24 61.64-148.15 142.26-148.15 175.45-205.5 184.93-138.6 18.96 76.47-203.9 19.12-180.19-76.46 28.46-47.79 104.32-105.14 189.68-129.04 189.68-71.68 0-38.23-270.3 57.35-478.94 186.39-412.56 81.25-388.85-114.7 23.71-114.69 232.35-219.83 403.06-234.17 374.61-19.12-28.45 19.11-151.74 81.24-279.77 124.26-256.07 205.5-488.43 148.15-436.27-109.91 104.33-549.592 1304.05-516.138 1398.89 19.116 52.16 9.558 66.39-23.896 42.68-38.233-23.71-47.791-9.49-28.674 42.68 19.116 42.67-9.559 137.51-66.908 208.64-52.57 75.87-114.698 218.13-129.036 317.72-19.116 104.32-71.686 308.23-124.256 459.97-47.791 147-109.92 469.46-133.815 711.3-57.349 583.26-38.233 1972.67 28.675 2095.96 33.453 52.16 76.465 180.2 105.14 284.52 86.024 355.65 281.967 1043.24 320.2 1133.34 23.895 61.63 19.116 80.63-19.117 61.63-28.674-19-76.465-113.8-109.919-213.38-33.454-94.84-86.024-218.13-114.699-270.29-148.152-227.62-262.85-796.66-358.432-1778.25C24.627 7110.63 5.51 7101.14.732 7698.63c-4.78 602.24 71.686 1218.7 172.047 1375.18 38.233 56.91 57.35 142.26 43.012 194.42-28.674 90.1 114.699 564.3 301.084 981.57 540.035 1204.5 1199.555 2062.8 2365.655 3058.6 243.73 208.7 468.35 426.8 501.81 488.4 28.67 56.9 157.71 170.7 281.96 256.1 124.26 80.6 449.24 303.5 726.43 488.4 683.41 464.7 874.57 535.9 1371.6 512.2 215.06-9.5 415.78-42.7 454.01-71.2 76.47-61.6 324.98-109 324.98-61.6 0 19 86.03 19 191.17-4.8 224.61-52.1 649.95-341.4 692.97-474.2 19.11-52.1 81.24-147 148.15-218.1 62.13-66.4 143.37-222.9 176.82-341.4 66.91-222.9 57.35-621.2-14.33-621.2-23.9 0-105.14-113.8-186.39-256.1-143.37-241.8-477.91-592.7-726.42-754-62.13-42.6-215.06-85.3-329.76-94.8-119.48-9.5-291.52-61.6-387.11-118.5-172.04-94.9-176.82-94.9-152.93-4.8 23.9 80.6 14.34 85.4-100.36 42.7-71.69-23.7-191.16-47.4-258.07-47.4-71.69 0-186.39-38-248.51-85.4-66.91-42.7-195.95-104.3-286.75-137.5l-167.27-56.9 138.6 118.5c253.29 222.9 90.8 166-434.9-142.2-124.26-71.1-291.53-137.5-363.21-142.3-90.81-4.7-157.71-47.4-195.95-113.8-33.45-56.9-71.68-94.8-86.02-80.6-57.35 56.9-415.78-350.9-559.16-635.4-100.36-189.7-172.04-279.8-215.06-260.8-38.23 14.2-95.58-42.7-148.15-156.5-47.79-99.6-109.92-208.7-138.59-246.6-71.69-90.1-267.63-687.59-234.18-716.04 14.34-14.23 38.24 0 47.79 33.19 9.56 33.2 71.69 128.04 133.82 213.39 66.91 85.36 138.59 208.65 167.27 270.3 28.67 61.64 109.92 184.96 181.6 270.26 71.69 85.4 167.27 203.9 215.06 265.6 81.25 104.3 81.25 104.3 0-33.2-43.01-80.6-119.48-194.4-167.27-256.1-95.58-128-114.69-218.11-28.67-165.95 28.67 18.97 19.12-14.23-23.9-80.61-100.36-137.52-100.36-184.94-9.55-184.94 38.23 0 71.68 18.97 71.68 42.68 0 52.16 401.45 597.52 587.83 796.62 81.25 85.4 210.28 166 291.53 185 81.24 14.2 210.28 61.6 281.96 99.5 238.96 118.6 248.52 38 14.34-123.2-301.08-203.9-721.64-626-822-820.41l-81.25-156.48 133.82 132.77c76.46 71.13 157.71 123.3 186.38 113.81 28.67-14.22 95.58 14.23 143.37 56.91 86.03 71.1 86.03 71.1 33.46-28.5-28.68-56.86-90.81-123.25-138.6-151.7-43.01-23.71-66.9-61.65-47.79-80.61 19.12-14.23-47.79-123.3-148.15-237.1-353.65-403.07-559.15-905.72-721.64-1787.74-76.47-417.29 4.77-540.58 90.8-142.25 33.45 151.74 71.69 294 76.46 322.45 9.56 23.71 0-189.68-14.33-474.2-19.12-289.26-33.46-635.43-33.46-772.94 0-132.78-14.33-246.59-33.45-246.59-23.9 0-38.23-37.93-38.23-80.61 0-75.87-4.78-75.87-57.35 0-95.58 123.29-195.95 33.19-152.93-137.52l38.23-137.52 38.23 118.55c23.9 80.62 28.68 37.94 14.34-128.03-9.56-137.52 0-260.81 19.12-275.04 23.89-9.48 66.9-147 105.14-303.48 33.45-156.49 81.24-270.3 100.36-260.81 23.89 14.22 28.67-28.46 9.56-94.84-19.12-75.88-9.56-123.3 19.11-123.3 28.68 0 66.91-42.67 81.25-94.83 19.11-52.17 52.57-85.36 76.46-71.13 23.9 14.22 57.35-61.65 71.69-165.97 28.67-184.94 205.5-474.2 210.28-346.17 0 99.58 95.58 71.13 138.59-47.42 23.9-56.9 100.36-184.94 167.27-284.52 66.91-94.84 167.27-284.52 224.62-412.55 57.35-128.04 119.48-227.62 138.59-213.39 19.12 14.22 47.79-23.71 62.13-80.62 19.12-56.9 43.01-90.09 62.13-71.13 19.12 14.23 71.69-37.93 114.7-123.29 43.01-80.61 129.03-156.48 181.6-165.97 57.35-9.48 114.7-61.64 133.82-118.55 14.34-56.9 95.58-175.45 176.83-260.81 119.47-118.55 129.03-151.74 62.12-151.74-43.01 0-133.81 56.9-200.72 128.03-186.38 199.17-191.16 85.36 0-132.77 95.58-113.81 172.05-222.88 167.27-251.33 0-28.45-14.34-23.71-28.67 4.74-9.56 33.2-52.57 61.65-90.81 61.65-43.01 0-57.35-23.71-38.23-61.65 19.12-28.45-19.12-4.74-86.02 61.65-66.91 66.39-277.19 265.55-468.36 450.49-200.72 189.68-391.88 431.52-454.01 564.3-62.13 128.03-133.82 246.58-152.93 260.81-23.9 14.22-114.7 128.03-205.5 251.32-86.03 128.03-167.27 227.62-176.83 227.62-47.79 0 9.56-109.07 210.28-379.36 124.26-170.71 186.39-279.78 143.37-241.84-43.01 33.19-81.24 42.67-81.24 14.22 0-66.39 124.26-156.48 162.49-113.81 19.11 18.97 28.67 9.49 19.11-18.96-19.11-75.88 396.67-573.79 974.94-1157.05 391.89-398.33 563.94-531.1 850.68-678.11 195.94-94.83 516.14-260.8 702.53-365.13 191.16-104.322 387.11-189.678 434.9-189.678s105.14-18.968 129.03-42.678c28.68-23.71 124.26-56.904 215.06-71.13 157.71-33.194 162.49-28.452 76.47 42.678-52.57 37.936-119.48 71.13-152.93 71.13-28.68 0-81.25 28.452-109.92 66.388-47.79 56.904-38.23 66.388 52.57 42.678 90.8-18.968 95.58-14.226 38.23 33.194-57.35 47.418-47.79 47.418 47.79 23.708 66.91-18.966 172.05-42.676 238.96-56.902 114.7-23.71 114.7-23.71 23.89 42.678-105.14 75.874-277.19 142.264-583.05 222.874-114.7 33.19-205.5 75.87-205.5 104.32 0 23.71-47.79 66.39-105.14 90.1-100.36 37.94-100.36 42.68-14.34 42.68 52.57 0 191.17-37.94 305.87-90.1 114.69-52.16 238.95-94.84 277.18-94.84 62.13 0 62.13 14.23-4.78 118.55-43.01 66.39-62.12 123.29-43.01 123.29 129.04 18.97 195.95 14.23 324.98-18.97 81.25-18.96 176.83-47.42 215.06-56.9 38.23-4.74 167.27-42.68 286.75-71.13 248.51-71.13 726.42-109.06 621.28-52.16-38.23 18.97-200.72 61.65-358.43 94.84s-353.66 90.1-430.12 123.29c-81.25 37.94-195.94 90.1-262.85 118.55-66.91 23.71-181.61 90.1-262.85 142.26-76.47 47.42-238.96 137.52-358.44 199.16-114.69 61.65-324.97 175.46-468.35 256.07-138.59 85.36-291.52 142.26-334.53 128.04-90.81-23.71-238.96 109.06-186.39 161.22 19.12 14.23 4.78 61.65-28.67 104.33-28.68 37.93 19.11 18.96 109.92-47.42 200.72-147 1491.08-753.98 1591.44-753.98 43.01 0 86.02-18.97 100.36-42.68 14.33-18.97 95.58-52.16 181.6-66.39 86.03-18.96 310.64-61.64 492.25-104.32 482.69-104.32 1285.58-99.58 1863.88 14.23 559.1 113.8 1218.6 350.9 1457.6 526.36 219.8 161.23 334.5 232.36 473.1 289.26 119.5 52.16 912.8 834.59 912.8 896.24 0 23.71 66.9 113.8 143.4 199.16 81.3 90.1 157.7 213.39 172.1 279.78 19.1 66.38 76.4 189.68 124.2 275.03 133.8 218.13 372.8 863.04 559.2 1503.21 133.8 464.72 215 1446.31 176.8 2133.9-19.1 308.23-43 578.52-57.4 597.49-9.5 18.97-28.6 118.55-43 222.88-14.3 109.06-47.8 251.32-71.7 322.45-28.6 71.13-71.6 218.13-95.5 331.94-43 180.2-253.3 649.65-511.4 1114.37-315.4 573.8-1209.1 1574.3-1749.2 1958.4-95.5 66.4-95.5 71.2-9.5 42.7 243.7-71.1-597.4 588-1108.8 867.8-301 170.7-425.3 275-157.7 137.5 167.3-85.3 258.1-90.1 210.3-14.2-19.1 33.2-14.3 37.9 23.9 19 28.7-19 43-56.9 28.7-80.7-14.4-23.7 0-28.4 33.4-18.9 38.3 14.2 114.7-28.5 176.9-90.1 62.1-66.4 234.1-156.5 382.3-199.2 148.1-47.4 339.3-137.5 425.3-199.1 86.1-66.4 167.3-104.4 181.6-90.1 38.3 37.9-807.6 654.4-1041.8 753.9-76.5 33.2-133.8 85.4-133.8 118.6 0 75.9 291.5-42.7 501.8-203.9 86-61.7 186.4-113.8 229.4-113.8s90.8-23.7 105.1-47.4c57.4-94.9 831.6-540.6 869.8-502.7 9.6 9.5-148.1 128-353.6 265.6-205.5 137.5-391.9 275-420.6 308.2-57.3 66.4-368 265.5-716.9 460l-238.9 132.7 167.2-14.2c239-23.7 716.9-180.2 869.8-279.8 67-47.4 148.2-85.3 176.9-85.3 23.9 0 167.2-94.9 305.8-208.7 296.3-237.1 559.2-384.1 559.2-312.9 0 23.7-33.5 47.4-71.7 47.4-33.5 0-86 28.4-105.1 66.4-76.5 128-941.5 725.5-1352.5 934.1-239 118.6-530.5 350.9-492.3 388.9 9.6 14.2-114.7 90.1-281.9 170.7-578.31 284.5-38.3 109.1 669-213.4 262.9-118.6 420.6-147 368-66.4-52.5 85.4 90.8 52.2 262.9-61.6 90.8-61.7 286.7-170.7 430.1-241.9 143.4-75.8 277.2-156.5 291.5-180.2 19.1-33.2 43-28.4 62.2 4.8 38.2 61.6-258.1 279.7-721.7 535.8-191.2 104.3-348.9 199.2-348.9 208.7 0 94.8 1452.9-782.5 1763.5-1071.7 86-80.6 172.1-132.8 191.2-118.6 14.3 19-23.9 71.2-90.8 118.6-90.8 71.1-100.4 94.8-38.3 94.8 43.1 0 167.3-85.3 272.5-189.7 105.1-104.3 210.2-189.6 229.4-189.6 71.6 0 759.8-692.4 912.8-920 86-123.3 172-213.4 186.3-199.2 19.2 14.3-28.6 109.1-95.5 203.9-153 213.4-669.1 810.9-702.6 815.7-14.3 4.7-195.9 170.7-406.2 369.8-210.3 199.2-344.1 336.7-296.3 298.8 43-33.2 95.6-47.4 114.7-28.5 14.3 14.3 19.1 33.2 9.6 42.7-9.6 4.8-138.6 109.1-282 227.6-329.8 270.3-922.4 659.2-1003.6 659.2-38.2 0-109.9 42.6-162.5 90.1-57.4 47.4-272.4 175.4-482.7 284.5-210.3 104.3-344.1 194.4-296.3 194.4s305.9-109.1 573.5-237.1c267.6-132.8 511.4-237.1 544.8-237.1 33.5 0 114.7-56.9 181.6-123.3 71.7-71.1 153-109 196-94.8s114.7 4.7 167.2-19c47.8-28.4 90.8-33.2 90.8-14.2-4.7 52.1-511.3 341.4-931.9 531.1-315.4 147-1080.1 412.5-1515 526.3-353.6 94.9-152.9 99.6 229.4 9.5 210.3-52.1 458.8-109 559.2-128 100.3-14.2 258.1-71.1 348.9-118.6 90.8-52.1 248.5-109 353.6-123.2 105.2-19 191.2-56.9 191.2-85.4 0-66.4 267.6-170.7 444.4-170.7 81.3 0 153-42.7 200.8-113.8 43-61.7 138.6-123.3 210.2-137.5 76.5-19 148.2-66.4 157.7-118.6 14.4-47.4 110-128 210.3-175.4 253.3-118.6 497.1-308.3 497.1-384.1 0-38 47.7-66.4 109.9-66.4 114.7 0 688.2-507.4 669-592.8-9.5-28.4 105.2-175.4 253.3-331.9 148.2-156.5 334.6-379.4 415.8-497.9 81.3-118.6 157.7-222.9 176.9-237.1 38.2-33.2 406.2-663.9 454-782.5 19.1-52.1 33.4-123.2 28.6-161.2-4.7-33.2 28.7-109 81.3-166 52.6-52.1 172-289.2 267.6-526.3 172.1-426.8 215.1-583.3 119.5-450.5-43 56.9-47.8 52.2-19.1-23.7 19.1-52.2 62.1-256.08 100.3-450.5 38.3-194.42 100.4-455.23 143.4-578.53 38.2-123.29 109.9-464.71 152.9-758.71 76.5-507.4 76.5-815.63-4.7-1436.83-14.4-104.32-38.3-360.39-57.4-564.29-38.2-483.69-258.1-1446.31-454-1996.38-157.7-445.75-587.8-1327.76-788.6-1626.51-66.9-94.84-172-251.32-238.9-341.42s-172.1-241.84-234.2-331.94-234.2-284.52-382.3-426.78c-148.2-142.26-267.6-279.78-267.6-308.23 0-42.68-210.3-151.74-444.5-232.36-52.6-14.22-100.4-71.13-114.7-123.288-14.3-52.162-47.8-80.614-71.7-66.388-23.9 18.968-14.3 61.646 23.9 104.326 38.2 47.42 81.3 109.06 100.4 142.26 57.3 94.84-291.6 28.45-411-85.36-57.4-52.16-138.6-94.838-181.6-94.838s-172.1-61.646-291.6-132.776c-248.5-156.486-535.2-294.004-611.7-294.004-28.7 0-52.6-14.226-52.6-37.936 0-18.968-57.3-61.645-129-90.097l-124.2-61.646 109.9 118.549c62.1 66.388 286.7 218.132 501.8 341.424 344.1 199.164 955.8 682.844 955.8 763.464 0 18.96 105.1 137.51 234.2 270.29 215 222.87 936.7 1356.21 936.7 1465.28 0 28.45-66.9-61.65-148.2-194.43-81.2-137.51-238.9-336.68-358.4-450.49-114.7-109.06-205.5-227.61-196-265.55 4.8-37.93-28.6-75.87-71.6-80.61-47.8-9.48-205.5-132.78-358.5-279.78-387.1-365.13-1084.8-882.01-1199.5-882.01-19.1 0-81.3-42.68-138.6-90.1-148.2-142.256-1061-554.81-1495.9-682.843C9659.3 59.285 8670.02-68.749 8000.95 35.575m1777.82 426.78c616.53 137.517 802.93 199.163 1142.23 355.649 200.7 90.098 396.6 156.486 434.9 142.26 167.2-66.388 879.3 369.876 1395.5 853.556 301.1 284.52 272.4 336.68-47.8 99.58-248.5-180.19-702.5-459.97-755.1-459.97-19.1 0-119.5-61.65-224.6-142.26-100.4-75.87-205.5-142.26-229.4-142.26s-81.3-28.45-119.5-66.39c-109.9-94.84-1056.2-360.388-1299.9-360.388-124.28 0-310.66-52.162-449.26-118.55-148.15-71.13-329.76-118.55-477.91-123.292-129.03-4.742-291.52-23.709-358.43-42.677-186.39-61.646 726.42-56.904 989.27 4.742M6524.21 813.262c-52.57 37.936-105.14 56.904-119.48 42.678-28.68-28.452 90.8-113.808 162.49-113.808 28.67 4.742 4.78 33.194-43.01 71.13m-258.08 118.55c-57.35 52.162-129.03 94.838-162.49 94.838-33.45 0-105.14 33.2-152.93 71.13-52.57 37.94-129.03 71.13-167.27 71.13-38.23 0 23.9-61.64 143.38-132.77 334.53-213.394 516.14-265.556 339.31-104.328M13425.2 2401.83c28.7 52.16 33.5 94.84 9.6 94.84-47.8 0-152.9-99.58-152.9-151.74 0-75.88 90.8-37.94 143.3 56.9m-884.1 237.1c129 128.03 215.1 237.1 186.4 237.1-23.9 0-153-109.07-282-237.1-129-132.78-215-237.1-186.4-237.1 23.9 0 153 104.32 282 237.1m492.2 474.2c33.5 52.16 43.1 94.84 19.2 94.84-19.2 0-62.2-42.68-95.6-94.84-33.5-52.16-43-94.84-19.1-94.84 19.1 0 62.1 42.68 95.5 94.84m-9094.59 668.62c-43.01 80.61-90.8 137.52-100.36 123.29-33.45-33.19 86.02-270.29 133.82-270.29 23.89 0 4.77 66.39-33.46 147m-731.2 147c-57.35 85.36-133.82 227.62-176.83 317.71-38.23 90.1-86.02 147.01-100.36 132.78-38.23-33.19 71.69-317.71 119.48-317.71 19.11 0 71.69-75.88 119.48-170.72 43.01-94.84 90.8-161.22 109.92-147 14.33 14.23-19.12 99.58-71.69 184.94m86.02 132.78c0 23.71-23.89 47.42-52.57 47.42-23.89 0-33.45-23.71-19.11-47.42 14.33-28.46 38.23-47.42 52.57-47.42 9.55 0 19.11 18.96 19.11 47.42m-1720.47 61.64c0 33.2-47.79 85.36-100.36 123.29-90.81 52.17-100.37 52.17-71.69-18.96 14.34-42.68 28.67-99.59 28.67-123.3s33.46-42.67 71.69-42.67 71.69 28.45 71.69 61.64M1769 5261.25c-38.23 37.94-52.57 33.19-52.57-18.97 0-94.84 62.13-161.23 86.02-90.1 14.34 33.2-4.78 80.62-33.45 109.07m-129.04 336.68c-14.33 71.13-38.23 118.55-52.57 109.07-9.55-14.23-4.78-80.62 14.34-147 14.34-71.13 38.23-118.55 52.57-109.07 9.56 14.23 4.78 80.61-14.34 147m124.26 2830.97c0 113.81-19.12 180.2-47.79 161.23-23.9-14.23-47.79-113.81-47.79-218.13 0-113.81 19.11-180.2 47.79-161.23 28.67 14.23 47.79 113.81 47.79 218.13m1290.36 189.68c0 28.45-19.12 33.2-47.79 18.97-23.9-14.23-47.79-52.16-47.79-75.87 0-28.45 23.89-33.2 47.79-18.97 28.67 14.23 47.79 52.16 47.79 75.87m191.16 331.94c28.68 52.16 43.01 132.78 33.46 175.45-14.34 71.13-23.9 66.39-52.57-14.22-19.12-52.16-57.35-132.78-81.25-180.2-28.67-52.16-28.67-80.61 4.78-80.61 23.9 0 66.91 42.68 95.58 99.58M712.818 10382.6c0 23.7-19.116 23.7-47.791 9.5-23.896-14.2-47.791-66.4-47.791-109.1 0-71.1 9.558-71.1 47.791-9.5 23.895 38 47.791 90.1 47.791 109.1M13238.8 11710.4c-47.7 42.6-52.5 37.9-23.9-28.5 14.4-47.4 43.1-71.1 57.4-56.9s0 52.2-33.5 85.4m-52.5 94.8c0 9.5-47.8 56.9-100.4 109.1-105.1 90.1-105.1 90.1-47.8-19 47.8-85.4 148.2-147 148.2-90.1m-1113.6 493.2c-148.1 151.7-277.1 260.8-291.5 246.6-14.3-9.5 95.6-147.1 239-298.8 143.3-156.5 272.4-265.5 291.5-246.6 19.1 19-86 151.8-239 298.8m731.2-104.4c-62.1 66.4-133.8 118.6-162.4 118.6-23.9 0 14.3-61.7 90.8-142.3 76.4-75.8 148.1-132.7 157.7-118.5 14.3 14.2-23.9 75.9-86.1 142.2m-310.6 260.9c-47.8 52.1-109.9 94.8-133.8 94.8-28.7 0-9.6-42.7 38.2-94.8 47.8-52.2 109.9-94.9 133.8-94.9 28.7 0 9.6 42.7-38.2 94.9m908 806.1c-14.3 23.7-52.5 47.4-76.4 47.4-28.7 0-33.5-23.7-19.1-47.4 14.3-28.5 52.5-47.4 76.4-47.4 28.7 0 33.5 18.9 19.1 47.4m23.9 379.4c0 23.7-19.1 47.4-47.8 47.4-23.9 0-47.8-23.7-47.8-47.4 0-28.5 23.9-47.5 47.8-47.5 28.7 0 47.8 19 47.8 47.5m-7230.75 1308.7c-14.34 14.3-57.35 19-90.81 4.8-38.23-14.2-23.89-28.5 28.68-28.5 52.57-4.7 81.24 9.5 62.13 23.7"/></symbol><use href="#ai:local:enso"></use>  </svg> <h1 data-astro-cid-ymhdp2rl><span class="code" data-astro-cid-ymhdp2rl>Code</span> <span class="blue" data-astro-cid-ymhdp2rl>Blue</span></h1> </a> <nav data-astro-cid-ymhdp2rl> <ul class="navigation-bar" data-astro-cid-ymhdp2rl> <li data-astro-cid-ymhdp2rl> <button id="pf-btn" data-astro-cid-52fiibxx> <svg width="1em" height="1em" data-astro-cid-52fiibxx="true" data-icon="ph:magnifying-glass">   <symbol id="ai:ph:magnifying-glass" viewBox="0 0 256 256"><path fill="currentColor" d="m229.66 218.34l-50.07-50.06a88.11 88.11 0 1 0-11.31 11.31l50.06 50.07a8 8 0 0 0 11.32-11.32M40 112a72 72 0 1 1 72 72a72.08 72.08 0 0 1-72-72"/></symbol><use href="#ai:ph:magnifying-glass"></use>  </svg> <code data-astro-cid-52fiibxx><span id="os" data-astro-cid-52fiibxx>Ctrl</span>+k</code> </button> <div id="search-container" aria-hidden="true" data-astro-cid-52fiibxx> <!-- Your layout content here --> <!-- <p>Search will go here (coming soon).</p> --> <div id="search" data-astro-cid-52fiibxx></div> </div> <script type="module">document.addEventListener("astro:page-load",()=>{const a=document.getElementById("pf-btn"),d=document.getElementById("os"),t=document.getElementById("search-container"),n=document.getElementById("search");n&&!n.dataset.pagefindInitialized&&window.PagefindUI&&(new window.PagefindUI({element:"#search",showSubResults:!0}),n.dataset.pagefindInitialized="true");function i(){const e=t?.getAttribute("aria-hidden")==="false";t?.setAttribute("aria-hidden",e?"true":"false"),e||n?.querySelector("input")?.focus()}const s=window.navigator.userAgent.includes("Mac");d.textContent=s?"Cmd":"Ctrl",a.addEventListener("click",()=>{i()}),t.addEventListener("click",e=>{e.target===t&&i()}),document.addEventListener("keydown",e=>{(s?e.metaKey&&e.key.toLowerCase()==="k":e.ctrlKey&&e.key.toLowerCase()==="k")&&(e.preventDefault(),i())})});</script>  </li> <li data-astro-cid-ymhdp2rl> <a class="active" href="/posts" data-astro-cid-ymhdp2rl>Blog</a> </li> <li data-astro-cid-ymhdp2rl> <a class href="/about" data-astro-cid-ymhdp2rl>About</a> </li> <li data-astro-cid-ymhdp2rl> <a class href="/projects" data-astro-cid-ymhdp2rl>Portfolio</a> </li> <li data-astro-cid-ymhdp2rl> <div id="themeToggle" data-theme="dark" data-astro-cid-dz5h74bc> <input type="checkbox" id="themeSwitch" aria-label="Toggle Theme" data-astro-cid-dz5h74bc> <div class="circle" data-astro-cid-dz5h74bc></div> <svg width="1em" height="1em" class="icon-sun" data-astro-cid-dz5h74bc="true" data-icon="ph:sun">   <symbol id="ai:ph:sun" viewBox="0 0 256 256"><path fill="currentColor" d="M120 40V16a8 8 0 0 1 16 0v24a8 8 0 0 1-16 0m72 88a64 64 0 1 1-64-64a64.07 64.07 0 0 1 64 64m-16 0a48 48 0 1 0-48 48a48.05 48.05 0 0 0 48-48M58.34 69.66a8 8 0 0 0 11.32-11.32l-16-16a8 8 0 0 0-11.32 11.32Zm0 116.68l-16 16a8 8 0 0 0 11.32 11.32l16-16a8 8 0 0 0-11.32-11.32M192 72a8 8 0 0 0 5.66-2.34l16-16a8 8 0 0 0-11.32-11.32l-16 16A8 8 0 0 0 192 72m5.66 114.34a8 8 0 0 0-11.32 11.32l16 16a8 8 0 0 0 11.32-11.32ZM48 128a8 8 0 0 0-8-8H16a8 8 0 0 0 0 16h24a8 8 0 0 0 8-8m80 80a8 8 0 0 0-8 8v24a8 8 0 0 0 16 0v-24a8 8 0 0 0-8-8m112-88h-24a8 8 0 0 0 0 16h24a8 8 0 0 0 0-16"/></symbol><use href="#ai:ph:sun"></use>  </svg> <svg width="1em" height="1em" class="icon-moon" data-astro-cid-dz5h74bc="true" data-icon="ph:moon">   <symbol id="ai:ph:moon" viewBox="0 0 256 256"><path fill="currentColor" d="M233.54 142.23a8 8 0 0 0-8-2a88.08 88.08 0 0 1-109.8-109.8a8 8 0 0 0-10-10a104.84 104.84 0 0 0-52.91 37A104 104 0 0 0 136 224a103.1 103.1 0 0 0 62.52-20.88a104.84 104.84 0 0 0 37-52.91a8 8 0 0 0-1.98-7.98m-44.64 48.11A88 88 0 0 1 65.66 67.11a89 89 0 0 1 31.4-26A106 106 0 0 0 96 56a104.11 104.11 0 0 0 104 104a106 106 0 0 0 14.92-1.06a89 89 0 0 1-26.02 31.4"/></symbol><use href="#ai:ph:moon"></use>  </svg> </div> <script>
  function setupThemeSwitcher() {
    const themeToggle = document.getElementById('themeToggle')
    const themeSwitch = document.getElementById('themeSwitch')

    if (!themeToggle || !themeSwitch) return

    // Determine theme from localStorage or system preference
    const getPreferredTheme = () => {
      // Check if theme is stored in localStorage (higher priority)
      const storedTheme = localStorage.getItem('theme')
      if (storedTheme === 'dark' || storedTheme === 'light') {
        return storedTheme
      }
      // If the user hasn't set a theme, check their system preference
      return window.matchMedia('(prefers-color-scheme: dark)').matches
        ? 'dark'
        : 'light'
    }

    const applyTheme = (theme) => {
      console.log('Applying theme:', theme)
      // Remove previous theme classes before applying new one
      document.documentElement.classList.remove(
        'dark',
        'light',
        'theme-dracula',
        'theme-github-light-default'
      )
      // ✅ Set light/dark as an <html> class name
      document.documentElement.classList.add(theme)

      // ✅ Set Expressive Code theme using theme name as an html element class name
      const expressiveTheme =
        theme === 'dark' ? 'theme-dracula' : 'theme-github-light-default'
      document.documentElement.classList.add(expressiveTheme)

      // Store it for the future
      localStorage.setItem('theme', theme)

      // Update the toggle
      themeToggle.setAttribute('data-theme', theme)
      themeSwitch.checked = theme === 'dark'
    }

    // Initialize theme
    const selectedTheme = getPreferredTheme() // ✅ Refresh Expressive Code styles
    //   refreshExpressiveCode()

    console.log('Selected theme:', selectedTheme)
    applyTheme(selectedTheme)

    // Toggle theme on click
    const handleToggleClick = () => {
      // Check if the class exists on the <html> element (document.documentElement)
      const newTheme = document.documentElement.classList.contains('dark')
        ? 'light'
        : 'dark'
      applyTheme(newTheme)
    }

    // Remove old event listener before adding to prevent duplicates
    themeToggle.removeEventListener('click', handleToggleClick)
    themeToggle.addEventListener('click', handleToggleClick)
  }

  // Ensure script runs on navigation in Astro
  document.addEventListener('astro:after-swap', setupThemeSwitcher)
  setupThemeSwitcher() // Run immediately on first load
</script>  </li> </ul> </nav> <button class="burger-btn burger-btn-main" aria-expanded="false" data-astro-cid-ymhdp2rl="true" data-astro-cid-3v6asoeq> <svg class="burger-icon" viewBox="0 0 100 100" data-astro-cid-3v6asoeq> <rect class="line top-bun" data-astro-cid-3v6asoeq></rect> <rect class="line meat" data-astro-cid-3v6asoeq></rect> <rect class="line bottom-bun" data-astro-cid-3v6asoeq></rect> </svg> </button>  </div> </header>  </nav> <aside class="toc" data-astro-cid-ouamjn2i>  <nav id="toc" aria-expanded="false" aria-controls="toc-content" data-astro-cid-ukv4ggcy> <header data-astro-cid-ukv4ggcy> <div class="indicator" data-astro-cid-ukv4ggcy> <button id="toc-toggle" data-astro-cid-ukv4ggcy>TOC <svg width="1em" height="1em" data-astro-cid-ukv4ggcy="true" data-icon="ph:caret-right">   <symbol id="ai:ph:caret-right" viewBox="0 0 256 256"><path fill="currentColor" d="m181.66 133.66l-80 80a8 8 0 0 1-11.32-11.32L164.69 128L90.34 53.66a8 8 0 0 1 11.32-11.32l80 80a8 8 0 0 1 0 11.32"/></symbol><use href="#ai:ph:caret-right"></use>  </svg></button> <span data-astro-cid-ukv4ggcy>Some section heading</span> </div> <a class="top" id="scroll-to-top" data-astro-cid-ukv4ggcy> <svg width="1em" height="1em" class="iconify" data-astro-cid-ukv4ggcy="true" data-icon="ph:caret-double-up">   <symbol id="ai:ph:caret-double-up" viewBox="0 0 256 256"><path fill="currentColor" d="M213.66 194.34a8 8 0 0 1-11.32 11.32L128 131.31l-74.34 74.35a8 8 0 0 1-11.32-11.32l80-80a8 8 0 0 1 11.32 0Zm-160-68.68L128 51.31l74.34 74.35a8 8 0 0 0 11.32-11.32l-80-80a8 8 0 0 0-11.32 0l-80 80a8 8 0 0 0 11.32 11.32"/></symbol><use href="#ai:ph:caret-double-up"></use>  </svg> </a> </header> <ul id="toc-content" data-astro-cid-ukv4ggcy> <li class="toc-level-2" data-astro-cid-ukv4ggcy> <a href="#generating-a-new-react-project" data-astro-cid-ukv4ggcy>Generating a new React project</a> </li><li class="toc-level-2" data-astro-cid-ukv4ggcy> <a href="#important-files" data-astro-cid-ukv4ggcy>Important Files</a> </li><li class="toc-level-2" data-astro-cid-ukv4ggcy> <a href="#defining-routes" data-astro-cid-ukv4ggcy>Defining Routes</a> </li><li class="toc-level-3" data-astro-cid-ukv4ggcy> <a href="#adding-a-loader" data-astro-cid-ukv4ggcy>Adding a Loader</a> </li><li class="toc-level-4" data-astro-cid-ukv4ggcy> <a href="#client-data-loading" data-astro-cid-ukv4ggcy>Client Data Loading</a> </li><li class="toc-level-4" data-astro-cid-ukv4ggcy> <a href="#server-data-loading" data-astro-cid-ukv4ggcy>Server Data Loading</a> </li><li class="toc-level-3" data-astro-cid-ukv4ggcy> <a href="#adding-a-layout-route" data-astro-cid-ukv4ggcy>Adding a Layout Route</a> </li><li class="toc-level-3" data-astro-cid-ukv4ggcy> <a href="#nested-routes" data-astro-cid-ukv4ggcy>Nested routes</a> </li><li class="toc-level-3" data-astro-cid-ukv4ggcy> <a href="#adding-a-404-route" data-astro-cid-ukv4ggcy>Adding a 404 Route</a> </li> </ul> </nav>  <script type="module">document.addEventListener("astro:page-load",()=>{const n=document.querySelector("#toc"),u=document.querySelector("#toc-toggle"),c=document.querySelector("#toc-content"),i=document.querySelectorAll("#toc-content a"),r=document.querySelector(".indicator span"),g=document.querySelectorAll("h2, h3, h4, h5, h6");let a=null;const f=document.querySelector("#scroll-to-top"),h=document.querySelector("#toc header")?.offsetHeight||0;let d=!1;f&&f.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),n?.setAttribute("aria-expanded","false"),c?.setAttribute("aria-hidden","true")}),n&&u&&c&&(u.addEventListener("click",()=>{const t=!(n.getAttribute("aria-expanded")==="true");n.setAttribute("aria-expanded",t.toString()),c.setAttribute("aria-hidden",(!t).toString())}),i.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.getAttribute("href")?.substring(1),s=document.getElementById(o||"");if(s){d=!0;const l=h+64,m=s.getBoundingClientRect().top+window.scrollY-l;window.scrollTo({top:m,behavior:"smooth"}),r&&(r.textContent=s.textContent||""),setTimeout(()=>{d=!1},900)}i.forEach(l=>l.classList.remove("active")),e.classList.add("active"),console.log("Active heading after click:",o),n?.setAttribute("aria-expanded","false"),c?.setAttribute("aria-hidden","true")})}));function p(){if(d)return;let e=null;for(let t=g.length-1;t>=0;t--){const o=g[t];if(o.getBoundingClientRect().top<=54){e=o;break}}if(!e){i.forEach(t=>t.classList.remove("active")),a=null;return}if(e.id!==a){a=e.id,i.forEach(o=>o.classList.remove("active"));const t=document.querySelector(`#toc-content a[href="#${e.id}"]`);t&&(t.classList.add("active"),console.log("Active heading:",e.id),r&&(r.textContent=t.textContent||""))}}window.addEventListener("scroll",p)});</script>  </aside> <aside data-astro-cid-ssfzsv2f> <nav class="sidebar" aria-expanded="false" data-astro-cid-ssfzsv2f> <ul data-astro-cid-ssfzsv2f> <li data-astro-cid-ssfzsv2f> <a class="orbitron-font" href="/" data-astro-cid-ssfzsv2f><svg width="1.08em" height="1em" viewBox="0 0 16818 15612" class="enso" data-astro-cid-ssfzsv2f="true" data-icon="enso">   <use href="#ai:local:enso"></use>  </svg></a> </li> <li data-astro-cid-ssfzsv2f><a class="orbitron-font" href="/posts" data-astro-cid-ssfzsv2f>Blog</a></li> <li data-astro-cid-ssfzsv2f><a class="orbitron-font" href="/about" data-astro-cid-ssfzsv2f>About</a></li> <li data-astro-cid-ssfzsv2f> <a class="orbitron-font" href="/projects" data-astro-cid-ssfzsv2f>Portfolio</a> </li> </ul> </nav> <div class="sidebar-overlay" aria-hidden="true" data-astro-cid-ssfzsv2f></div> </aside> <script type="module">const r=document.getElementById("toggle-sidebar");r&&r.addEventListener("click",()=>{const e=document.querySelector(".sidebar"),t=document.querySelector(".sidebar-overlay");if(e&&t){const d=e.getAttribute("aria-expanded")==="true";t.setAttribute("aria-hidden",d.toString())}});</script>   <!-- Full-Screen Overlay --><div class="img-overlay" onclick="this.setAttribute('data-visible', 'false')" data-visible="false" data-astro-cid-nds4jzju> <picture data-astro-cid-nds4jzju="true"> <source srcset="/_astro/cover.CZp6wD5u_1SA3gL.webp" type="image/webp">  <img src="/_astro/cover.CZp6wD5u_ZMOda1.png" alt="Bad coffee" data-astro-cid-nds4jzju="true" width="1920" height="1356" loading="lazy" decoding="async"> </picture> <p class="author" data-astro-cid-nds4jzju> <span data-astro-cid-nds4jzju>Artwork by</span> <a href="https://citadel9.com/" target="_blank" rel="noopener noreferrer" data-astro-cid-nds4jzju>Josan Gonzales <span data-astro-cid-nds4jzju>&copy;</span></a> </p> </div>  <main class="content" data-astro-cid-egg7nqdx> <div class="cinemascope-responsive" data-astro-cid-egg7nqdx> <div class="image-container" data-astro-cid-s2c47nbu> <div class="maximize-icon" id="maximize-icon" data-astro-cid-s2c47nbu> <svg width="1em" height="1em" class="iconify" data-astro-cid-s2c47nbu="true" data-icon="ph:arrows-out-simple">   <symbol id="ai:ph:arrows-out-simple" viewBox="0 0 256 256"><path fill="currentColor" d="M216 48v48a8 8 0 0 1-16 0V67.31l-50.34 50.35a8 8 0 0 1-11.32-11.32L188.69 56H160a8 8 0 0 1 0-16h48a8 8 0 0 1 8 8m-109.66 90.34L56 188.69V160a8 8 0 0 0-16 0v48a8 8 0 0 0 8 8h48a8 8 0 0 0 0-16H67.31l50.35-50.34a8 8 0 0 0-11.32-11.32"/></symbol><use href="#ai:ph:arrows-out-simple"></use>  </svg> </div> <img src="/_astro/cover-cropped.BlPz_jMU_Z1i8DPh.webp" alt="Bad coffee" data-astro-cid-s2c47nbu="true" width="1535" height="658" loading="lazy" decoding="async"> </div> <script type="module">document.addEventListener("astro:page-load",()=>{const t=document.getElementById("maximize-icon"),e=document.querySelector(".img-overlay");t&&e&&t.addEventListener("click",()=>{const i=e.getAttribute("data-visible")==="true";e.setAttribute("data-visible",i?"false":"true")})});</script>  </div> <div class="meta" data-astro-cid-egg7nqdx> <div class="metadata" data-astro-cid-wuix5hdf> <div class="row" data-astro-cid-wuix5hdf> <div class="row-item" data-astro-cid-wuix5hdf> <svg width="1em" height="1em" class="iconify" data-astro-cid-wuix5hdf="true" data-icon="ph:calendar">   <symbol id="ai:ph:calendar" viewBox="0 0 256 256"><path fill="currentColor" d="M208 32h-24v-8a8 8 0 0 0-16 0v8H88v-8a8 8 0 0 0-16 0v8H48a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h160a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16M72 48v8a8 8 0 0 0 16 0v-8h80v8a8 8 0 0 0 16 0v-8h24v32H48V48Zm136 160H48V96h160zm-96-88v64a8 8 0 0 1-16 0v-51.06l-4.42 2.22a8 8 0 0 1-7.16-14.32l16-8A8 8 0 0 1 112 120m59.16 30.45L152 176h16a8 8 0 0 1 0 16h-32a8 8 0 0 1-6.4-12.8l28.78-38.37a8 8 0 1 0-13.31-8.83a8 8 0 1 1-13.85-8A24 24 0 0 1 176 136a23.76 23.76 0 0 1-4.84 14.45"/></symbol><use href="#ai:ph:calendar"></use>  </svg> <p data-astro-cid-wuix5hdf>March 4th, 2025</p> </div> <div class="row-item" data-astro-cid-wuix5hdf> <svg width="1em" height="1em" class="iconify" data-astro-cid-wuix5hdf="true" data-icon="ph:pencil-line">   <symbol id="ai:ph:pencil-line" viewBox="0 0 256 256"><path fill="currentColor" d="m227.32 73.37l-44.69-44.68a16 16 0 0 0-22.63 0L36.69 152A15.86 15.86 0 0 0 32 163.31V208a16 16 0 0 0 16 16h168a8 8 0 0 0 0-16H115.32l112-112a16 16 0 0 0 0-22.63M136 75.31L152.69 92L68 176.69L51.31 160ZM48 208v-28.69L76.69 208Zm48-3.31L79.32 188L164 103.31L180.69 120Zm96-96L147.32 64l24-24L216 84.69Z"/></symbol><use href="#ai:ph:pencil-line"></use>  </svg> <p data-astro-cid-wuix5hdf> <a href="/authors/code blue" data-astro-cid-wuix5hdf="true" data-astro-cid-2es6phr7> Code Blue </a>  </p> </div> </div> <div class="row" data-astro-cid-wuix5hdf> <div class="row-item" data-astro-cid-wuix5hdf> <svg width="1em" height="1em" class="iconify" data-astro-cid-wuix5hdf="true" data-icon="ph:timer">   <symbol id="ai:ph:timer" viewBox="0 0 256 256"><path fill="currentColor" d="M128 40a96 96 0 1 0 96 96a96.11 96.11 0 0 0-96-96m0 176a80 80 0 1 1 80-80a80.09 80.09 0 0 1-80 80m45.66-125.66a8 8 0 0 1 0 11.32l-40 40a8 8 0 0 1-11.32-11.32l40-40a8 8 0 0 1 11.32 0M96 16a8 8 0 0 1 8-8h48a8 8 0 0 1 0 16h-48a8 8 0 0 1-8-8"/></symbol><use href="#ai:ph:timer"></use>  </svg> <p data-astro-cid-wuix5hdf> <span data-astro-cid-wuix5hdf>5 minutes read</span> </p> </div> <div class="row-item" data-astro-cid-wuix5hdf> <svg width="1em" height="1em" class="iconify" data-astro-cid-wuix5hdf="true" data-icon="ph:eye">   <symbol id="ai:ph:eye" viewBox="0 0 256 256"><path fill="currentColor" d="M247.31 124.76c-.35-.79-8.82-19.58-27.65-38.41C194.57 61.26 162.88 48 128 48S61.43 61.26 36.34 86.35C17.51 105.18 9 124 8.69 124.76a8 8 0 0 0 0 6.5c.35.79 8.82 19.57 27.65 38.4C61.43 194.74 93.12 208 128 208s66.57-13.26 91.66-38.34c18.83-18.83 27.3-37.61 27.65-38.4a8 8 0 0 0 0-6.5M128 192c-30.78 0-57.67-11.19-79.93-33.25A133.5 133.5 0 0 1 25 128a133.3 133.3 0 0 1 23.07-30.75C70.33 75.19 97.22 64 128 64s57.67 11.19 79.93 33.25A133.5 133.5 0 0 1 231.05 128c-7.21 13.46-38.62 64-103.05 64m0-112a48 48 0 1 0 48 48a48.05 48.05 0 0 0-48-48m0 80a32 32 0 1 1 32-32a32 32 0 0 1-32 32"/></symbol><use href="#ai:ph:eye"></use>  </svg> <p data-astro-cid-wuix5hdf><span id="views-count" data-astro-cid-wuix5hdf>?</span> views</p> </div> </div> <!-- Projects don't have tags, so don't render them --> <div class="tags-container" data-astro-cid-pjkakwps> <svg width="1em" height="1em" class="iconify" data-astro-cid-pjkakwps="true" data-icon="ph:tag-light">   <symbol id="ai:ph:tag-light" viewBox="0 0 256 256"><path fill="currentColor" d="M241.91 137.42L142.59 38.1a13.94 13.94 0 0 0-9.9-4.1H40a6 6 0 0 0-6 6v92.69a13.94 13.94 0 0 0 4.1 9.9l99.32 99.32a14 14 0 0 0 19.8 0l84.69-84.69a14 14 0 0 0 0-19.8m-8.49 11.31l-84.69 84.69a2 2 0 0 1-2.83 0L46.59 134.1a2 2 0 0 1-.59-1.41V46h86.69a2 2 0 0 1 1.41.59l99.32 99.31a2 2 0 0 1 0 2.83M94 84a10 10 0 1 1-10-10a10 10 0 0 1 10 10"/></symbol><use href="#ai:ph:tag-light"></use>  </svg> <a href="//tags/frontend" class="tag inter-thin" data-astro-cid-pjkakwps="true" data-astro-cid-2es6phr7> frontend </a> <span class="comma" data-astro-cid-pjkakwps>,</span><a href="//tags/react-router" class="tag inter-thin" data-astro-cid-pjkakwps="true" data-astro-cid-2es6phr7> react-router </a> <span class="comma" data-astro-cid-pjkakwps>,</span><a href="//tags/react" class="tag inter-thin" data-astro-cid-pjkakwps="true" data-astro-cid-2es6phr7> react </a>  </div>  </div> <script>(function(){const counterUrl = "https://api.counterapi.dev/v1/aHR0cHM6Ly9saWZlQmFsYW5jZS5naXRodWIuaW8=/L3Bvc3RzL3JyNy8=/up";

  document.addEventListener('astro:page-load', async () => {
    const viewsCount = document.getElementById('views-count')
    console.log('viewsCount:', viewsCount)

    async function fetchCount(targetUrl) {
      const response = await fetch(targetUrl)
      // console.log('fetchCount - response:', response)

      if (!response.ok)
        throw new Error(`HTTP error! status: ${response.status}`)

      const { count } = await response.json()
      // console.log('fetchCount - count:', count)
      return count
    }

    // Function to get a random color
    const getRandomColor = () =>
      `hsl(${Math.floor(Math.random() * 360)}, 70%, 50%)` // HSL for vibrant colors

    function animateNumber(start, end, duration, element) {
      const startTime = performance.now()
      const startNumber = parseInt(start)
      const targetNumber = parseInt(end)
      const difference = targetNumber - startNumber
      let lastDisplayedNumber = startNumber // Track the last displayed number

      function easeOutCubic(t) {
        return 1 - Math.pow(1 - t, 3)
      }

      function update(currentTime) {
        if (!element) return

        const elapsed = currentTime - startTime
        const progress = Math.min(elapsed / duration, 1)

        const easedProgress = easeOutCubic(progress)
        const currentNumber = Math.round(
          startNumber + difference * easedProgress
        )

        // Format number with commas for better readability
        element.textContent = currentNumber.toLocaleString()
        // Change color only when the number changes
        if (currentNumber !== lastDisplayedNumber && progress < 1) {
          element.style.color = getRandomColor()
          lastDisplayedNumber = currentNumber
        }

        if (progress < 1) {
          requestAnimationFrame(update)
        } else {
          // At the end, remove inline color to revert to CSS gray
          element.style.color = ''
        }
      }

      requestAnimationFrame(update)
    }

    try {
      const count = await fetchCount(counterUrl)
      // console.log('count:', count)

      if (count) {
        viewsCount.textContent = '0' // Start from zero
        animateNumber(0, count, 3000, viewsCount) // Animate to actual count over 1 second
      } else {
        if (viewsCount) viewsCount.textContent = 'N/A'
      }
    } catch {
      if (viewsCount) viewsCount.textContent = 'N/A'
    }
  })
})();</script>  </div> <header data-astro-cid-egg7nqdx> <h1 data-astro-cid-egg7nqdx>React Router 7</h1> <h2 data-astro-cid-egg7nqdx>How to use the Framework mode</h2> </header> <div class="post-content" data-pagefind-body data-astro-cid-egg7nqdx> <p>React Router is a <strong>multi-strategy</strong> router for React, which means it can be used in different ways depending on the needs of your application. In this guide, we’ll explore the <a href="https://reactrouter.com/docs/en/v7/getting-started/installation">framework mode</a>, which is a new way to use React Router that allows you to define your routes in a more <strong>declarative</strong> way.</p>
<h2 id="generating-a-new-react-project"><a class="heading-anchor-link" href="#generating-a-new-react-project">Generating a new React project</a></h2>
<p>The <strong>framework mode</strong> is the one that offers the most features (check comparison table), hence it has a few dependencies than the other modes. For that reason, setting it up <strong>manually</strong> it’s a bit tricky. A better idea is to generate a new project using the following command:</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.2bbfw.css"><script type="module" src="/_astro/ec.qopfj.js"></script><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#50FA7B;--1:#953800">npx</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#F1FA8C;--1:#0A3069">create-react-router@latest</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#F1FA8C;--1:#0A3069">my-react-router-app</span></div></div></code></pre></figure></div>
<p>Where <code>my-react-router-app</code> is the <strong>name of our project</strong>. This command will generate a new React project with the all the necessary <strong>dependencies</strong> to use React Router in <strong>framework mode</strong>.</p>
<div class="markdown-alert markdown-alert-note" dir="auto">
<p class="markdown-alert-title" dir="auto"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>NOTE</p>
<p>Later in this guide, and as an exercise, we’ll see how to add the <strong>framework mode</strong> to an already existing React project.</p>
</div>
<p>Once we have our project created, we can navigate to the root folder and start the development server:</p>
<div class="expressive-code"><figure class="frame is-terminal"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#8BE9FD;--1:#0550AE">cd</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#F1FA8C;--1:#0A3069">my-react-router-app</span></div></div><div class="ec-line"><div class="code"><span style="--0:#50FA7B;--1:#953800">npm</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#F1FA8C;--1:#0A3069">run</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#F1FA8C;--1:#0A3069">dev</span></div></div></code></pre></figure></div>
<h2 id="important-files"><a class="heading-anchor-link" href="#important-files">Important Files</a></h2>
<p>If we open the project in our code editor, we should see a bunch of files and folders, but the most important ones are inside the <code>app</code> folder:</p>
<ul>
<li><code>app/root.tsx</code>: This is the <strong>entry point</strong> of our application, from where we export:
<ul>
<li>The <code>Route.LinksFunction</code>.</li>
<li>The <code>Layout</code> component.</li>
<li>The <code>App</code> component.</li>
<li>An <code>ErrorBoundary</code> component.</li>
</ul>
</li>
<li><code>app/routes.ts</code>: This is where we define our <strong>routes</strong>.</li>
</ul>
<h2 id="defining-routes"><a class="heading-anchor-link" href="#defining-routes">Defining Routes</a></h2>
<p>Routes must be defined in the <code>app/routes.ts</code> file. For example, let’s define a simple route that renders a <strong>route module</strong> named <code>home.tsx</code> when the URL is <code>/</code>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">app/routes.ts</span></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> { </span><span style="--0:#FF79C6;--1:#CA212D">type</span><span style="--0:#F8F8F2;--1:#1F2328"> RouteConfig, index } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">@react-router/dev/routes</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> [</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#7A4BD1">route</span><span style="--0:#F8F8F2;--1:#953800">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">/</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">, </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/home.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#953800">] </span><span style="--0:#FF79C6;--1:#CA212D">satisfies</span><span style="--1:#953800"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">RouteConfig</span></span></div></div></code></pre></figure></div>
<p>The <code>route</code> function is known as a <strong>route matcher</strong>; this route matcher takes two arguments:</p>
<ul>
<li>A <strong>URL pattern</strong> to match the URL, in this case ’/’.</li>
<li>A <strong>file path</strong> to the <a href="https://reactrouter.com/start/framework/route-module">route module</a> that will be rendered when the URL matches the pattern.</li>
</ul>
<p>Since having a route for the <strong>home page</strong> is a common use case, React Router provides a helper function called <code>index</code> that does the same as <code>route('/', 'routes/home.tsx')</code>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">app/routes.ts</span></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> { </span><span style="--0:#FF79C6;--1:#CA212D">type</span><span style="--0:#F8F8F2;--1:#1F2328"> RouteConfig, index } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">@react-router/dev/routes</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> [</span></div></div><div class="ec-line highlight del"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#613ca7">route</span><span style="--0:#F8F8F2;--1:#903600">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">/</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#903600">, </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/home.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#903600">)</span></div></div><div class="ec-line highlight ins"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#613ca7">index</span><span style="--0:#F8F8F2;--1:#903600">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/home.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#903600">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#953800">] </span><span style="--0:#FF79C6;--1:#CA212D">satisfies</span><span style="--1:#953800"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">RouteConfig</span></span></div></div></code></pre></figure></div>
<p>These are the contents of <code>routes/home.tsx</code>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">routes/home.tsx</span></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">function</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#50FA7B;--1:#7A4BD1">Index</span><span style="--0:#F8F8F2;--1:#953800">() </span><span style="--0:#F8F8F2;--1:#1F2328">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">return</span><span style="--0:#F8F8F2;--1:#1F2328"> &#x3C;</span><span style="--0:#FF79C6;--1:#116329">h1</span><span style="--0:#F8F8F2;--1:#1F2328">>You are at Index&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">h1</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div></code></pre></figure></div>
<div class="markdown-alert markdown-alert-important" dir="auto">
<p class="markdown-alert-title" dir="auto"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>IMPORTANT</p>
<p>Note that <code>routes/home.tsx</code> is a <strong>route module</strong> and not just a <strong>React component</strong>. We have to export the React component as <code>default</code>, otherwise we’ll get <strong>error</strong>:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="json" class="wrap" style="--ecMaxLine:125ch"><code><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">You made a GET request to / but did not provide a `loader` for route </span><span style="--1:#0A3069"><span style="--0:#E9F284">"</span><span style="--0:#F1FA8C">routes/home</span><span style="--0:#E9F284">"</span></span><span style="--0:#F8F8F2;--1:#1F2328">, so there is no way to handle the request.</span></div></div></code></pre></figure></div>
<p>Yeah, the error is a bit <em>misleading</em>, because we’re not loading any data in our componet; again, it happens because we didn’t export the component as <code>default</code>.</p>
</div>
<h3 id="adding-a-loader"><a class="heading-anchor-link" href="#adding-a-loader">Adding a Loader</a></h3>
<p>Let’s define <a href="https://reactrouter.com/start/framework/data-loading">data loading</a> for our <strong>route module</strong>. There are two ways to do this:</p>
<ul>
<li><a href="https://reactrouter.com/start/framework/data-loading#client-data-loading">Client Data Loading</a>, using the <code>clientLoader</code> function.</li>
<li><a href="https://reactrouter.com/start/framework/data-loading#server-data-loading">Server Data Loading</a>, using the <code>loader</code> function.</li>
</ul>
<h4 id="client-data-loading"><a class="heading-anchor-link" href="#client-data-loading">Client Data Loading</a></h4>
<p>Let’s add a <code>clientLoader</code> function to fetch a list of <strong>TODOs</strong> from the <a href="https://jsonplaceholder.typicode.com">JSONPlaceholder API</a>. We’ll render the list of <strong>TODOs</strong> in the <code>home.tsx</code> <strong>route module</strong>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">routes/home.tsx</span></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">type</span><span style="--0:#F8F8F2;--1:#1F2328"> { Route } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">../+types/root</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">interface</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#953800">Todo</span><span style="--0:#F8F8F2;--1:#1F2328"> {</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2">  </span></span><span style="--0:#F8F8F2;--1:#953800">userId</span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#0550AE">number</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2">  </span></span><span style="--0:#F8F8F2;--1:#953800">id</span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#0550AE">number</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2">  </span></span><span style="--0:#F8F8F2;--1:#953800">title</span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#0550AE">string</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2">  </span></span><span style="--0:#F8F8F2;--1:#953800">completed</span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#0550AE">boolean</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">} </span><span style="--0:#96A1C2;--1:#616972">// Better move this type to a separate file (types/todo.ts) and import it here.</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">async</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">function</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--1:#7A4BD1">clientLoader</span><span style="--0:#F8F8F2;--1:#1F2328">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">const</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#F8F8F2;--1:#0550AE">response</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">=</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">await</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--1:#7A4BD1">fetch</span><span style="--0:#F8F8F2;--1:#1F2328">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">https://jsonplaceholder.typicode.com/todos</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#1F2328">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">if</span><span style="--0:#F8F8F2;--1:#1F2328"> (</span><span style="--0:#FF79C6;--1:#CA212D">!</span><span style="--0:#F8F8F2;--1:#1F2328">response.ok) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#CA212D">throw</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#CA212D">new</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--1:#7A4BD1">Error</span><span style="--0:#F8F8F2;--1:#1F2328">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">Failed to fetch todos</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#1F2328">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">  </span></span><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">return</span><span style="--0:#F8F8F2;--1:#1F2328"> response.</span><span style="--0:#50FA7B;--1:#7A4BD1">json</span><span style="--0:#F8F8F2;--1:#1F2328">()</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">function</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#50FA7B;--1:#7A4BD1">Home</span><span style="--1:#953800"><span style="--0:#F8F8F2">({ </span><span style="--0:#FFB86C;--0fs:italic">loaderData</span><span style="--0:#F8F8F2"> }</span></span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--1:#953800"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Route</span><span style="--0:#F8F8F2">.</span><span style="--0:#8BE9FD;--0fs:italic">ComponentProps</span><span style="--0:#F8F8F2">) </span></span><span style="--0:#F8F8F2;--1:#1F2328">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">return</span><span style="--0:#F8F8F2;--1:#1F2328"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">    </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">main</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">h1</span><span style="--0:#F8F8F2;--1:#1F2328">>You are at Index&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">h1</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">h2</span><span style="--0:#F8F8F2;--1:#1F2328">>Todos&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">h2</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">ul</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2">        </span></span><span style="--0:#F8F8F2;--1:#CA212D">{</span><span style="--0:#F8F8F2;--1:#1F2328">(loaderData </span><span style="--0:#FF79C6;--1:#CA212D">??</span><span style="--0:#F8F8F2;--1:#1F2328"> []).</span><span style="--0:#50FA7B;--1:#7A4BD1">map</span><span style="--0:#F8F8F2;--1:#1F2328">((</span><span style="--0:#FFB86C;--0fs:italic;--1:#953800">todo</span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#953800">Todo</span><span style="--0:#F8F8F2;--1:#1F2328">) </span><span style="--0:#FF79C6;--1:#CA212D">=></span><span style="--0:#F8F8F2;--1:#1F2328"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">          </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">li</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--0fs:italic;--1:#0550AE">key</span><span style="--1:#CA212D"><span style="--0:#FF79C6">=</span><span style="--0:#F8F8F2">{</span></span><span style="--0:#F8F8F2;--1:#1F2328">todo.id</span><span style="--0:#F8F8F2;--1:#CA212D">}</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--0fs:italic;--1:#0550AE">className</span><span style="--0:#FF79C6;--1:#CA212D">=</span><span style="--1:#0A3069"><span style="--0:#E9F284">"</span><span style="--0:#F1FA8C">py-4</span><span style="--0:#E9F284">"</span></span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">            </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">h3</span><span style="--0:#F8F8F2;--1:#1F2328">></span><span style="--0:#F8F8F2;--1:#CA212D">{</span><span style="--0:#F8F8F2;--1:#1F2328">todo.title</span><span style="--0:#F8F8F2;--1:#CA212D">}</span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">h3</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">            </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">p</span><span style="--0:#F8F8F2;--1:#1F2328">></span><span style="--0:#F8F8F2;--1:#CA212D">{</span><span style="--0:#F8F8F2;--1:#1F2328">todo.completed </span><span style="--0:#FF79C6;--1:#CA212D">?</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">Completed</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">Not Completed</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#CA212D">}</span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">p</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">          </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">li</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">        </span></span><span style="--0:#F8F8F2;--1:#1F2328">))</span><span style="--0:#F8F8F2;--1:#CA212D">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">ul</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">    </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">main</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">  </span></span><span style="--0:#F8F8F2;--1:#1F2328">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div></code></pre></figure></div>
<p>Yeah, I know, it’s a lot of code for rendering just a <strong>TODO list</strong>!, but let’s break it down:</p>
<ul>
<li>We define a <code>Todo</code> type that represents the structure of the data we’re going to fetch.</li>
<li>Note that <code>clientLoader</code> runs on the <strong>client side</strong>, like a traditional <a href="">SPA</a>; open the network tab to verify the request.</li>
<li>In the <strong>React component</strong>, we destructure the <code>loaderData</code> prop to access the data fetched by the <code>clientLoader</code> function. Then we render the list of <strong>TODOs</strong>.</li>
</ul>
<div class="markdown-alert markdown-alert-tip" dir="auto">
<p class="markdown-alert-title" dir="auto"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>TIP</p>
<p>When testing this code, the browser’s console will show a <strong>recommendation</strong> to use the <a href="https://remix.run/docs/en/main/route/hydrate-fallback">HydrateFallback</a>, so I added:</p>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#96A1C2;--1:#616972">// HydrateFallback is rendered while the client loader is running</span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">function</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--1:#7A4BD1">HydrateFallback</span><span style="--0:#F8F8F2;--1:#1F2328">() {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">return</span><span style="--0:#F8F8F2;--1:#1F2328"> &#x3C;</span><span style="--0:#FF79C6;--1:#116329">div</span><span style="--0:#F8F8F2;--1:#1F2328">>Loading...&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">div</span><span style="--0:#F8F8F2;--1:#1F2328">>;</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div></code></pre></figure></div>
<p>Nice! So no need of defining React loading states.</p>
</div>
<h4 id="server-data-loading"><a class="heading-anchor-link" href="#server-data-loading">Server Data Loading</a></h4>
<p><a href="https://reactrouter.com/start/framework/data-loading#server-data-loading">Server Data Loading</a> works the same way as the <code>clientLoader</code>, but it runs on the <strong>server side</strong>. Let’s add a <code>loader</code> function to fetch the individual <strong>TODOs</strong>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">routes/todo.tsx</span></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">type</span><span style="--0:#F8F8F2;--1:#1F2328"> { Route } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">../+types/root</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> { Link } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">react-router</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">type</span><span style="--0:#F8F8F2;--1:#1F2328"> { Todo } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">types/todo</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">async</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">function</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--1:#7A4BD1">loader</span><span style="--0:#F8F8F2;--1:#1F2328">({ </span><span style="--0:#FFB86C;--0fs:italic;--1:#953800">params</span><span style="--0:#F8F8F2;--1:#1F2328"> }</span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> { </span><span style="--0:#F8F8F2;--1:#953800">params</span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> { </span><span style="--0:#F8F8F2;--1:#953800">id</span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#0550AE">string</span><span style="--0:#F8F8F2;--1:#1F2328"> } }) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">const</span><span style="--0:#F8F8F2;--1:#1F2328"> { </span><span style="--0:#F8F8F2;--1:#0550AE">id</span><span style="--0:#F8F8F2;--1:#1F2328"> } </span><span style="--0:#FF79C6;--1:#CA212D">=</span><span style="--0:#F8F8F2;--1:#1F2328"> params</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">const</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#F8F8F2;--1:#0550AE">response</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">=</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">await</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--1:#7A4BD1">fetch</span><span style="--0:#F8F8F2;--1:#1F2328">(</span><span style="--1:#0A3069"><span style="--0:#F1FA8C">`https://jsonplaceholder.typicode.com/todos/</span><span style="--0:#FF79C6">${</span></span><span style="--0:#F8F8F2;--1:#1F2328">id</span><span style="--1:#0A3069"><span style="--0:#FF79C6">}</span><span style="--0:#F1FA8C">`</span></span><span style="--0:#F8F8F2;--1:#1F2328">)</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">if</span><span style="--0:#F8F8F2;--1:#1F2328"> (</span><span style="--0:#FF79C6;--1:#CA212D">!</span><span style="--0:#F8F8F2;--1:#1F2328">response.ok) {</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#FF79C6;--1:#CA212D">throw</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--0fw:bold;--1:#CA212D">new</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--1:#7A4BD1">Error</span><span style="--0:#F8F8F2;--1:#1F2328">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">Failed to fetch todos!</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#1F2328">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">  </span></span><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">return</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">await</span><span style="--0:#F8F8F2;--1:#1F2328"> response.</span><span style="--0:#50FA7B;--1:#7A4BD1">json</span><span style="--0:#F8F8F2;--1:#1F2328">()</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">function</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#50FA7B;--1:#7A4BD1">Todo</span><span style="--1:#953800"><span style="--0:#F8F8F2">({ </span><span style="--0:#FFB86C;--0fs:italic">loaderData</span><span style="--0:#F8F8F2"> }</span></span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--1:#953800"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">Route</span><span style="--0:#F8F8F2">.</span><span style="--0:#8BE9FD;--0fs:italic">ComponentProps</span><span style="--0:#F8F8F2">) </span></span><span style="--0:#F8F8F2;--1:#1F2328">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">const</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#F8F8F2;--1:#0550AE">todo</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">=</span><span style="--0:#F8F8F2;--1:#1F2328"> loaderData </span><span style="--0:#FF79C6;--1:#CA212D">?</span><span style="--0:#F8F8F2;--1:#1F2328"> (loaderData </span><span style="--0:#FF79C6;--1:#CA212D">as</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#8BE9FD;--0fs:italic;--1:#953800">Todo</span><span style="--0:#F8F8F2;--1:#1F2328">) </span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#BD93F9;--1:#0550AE">null</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">return</span><span style="--0:#F8F8F2;--1:#1F2328"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">    </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">main</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#8BE9FD;--0fs:italic;--1:#116329">Link</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--0fs:italic;--1:#0550AE">to</span><span style="--0:#FF79C6;--1:#CA212D">=</span><span style="--1:#0A3069"><span style="--0:#E9F284">"</span><span style="--0:#F1FA8C">/</span><span style="--0:#E9F284">"</span></span><span style="--0:#F8F8F2;--1:#1F2328">>Back Home&#x3C;/</span><span style="--0:#8BE9FD;--0fs:italic;--1:#116329">Link</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2">      </span></span><span style="--0:#F8F8F2;--1:#CA212D">{</span><span style="--0:#F8F8F2;--1:#1F2328">todo </span><span style="--0:#FF79C6;--1:#CA212D">&#x26;&#x26;</span><span style="--0:#F8F8F2;--1:#1F2328"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">        </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">div</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#50FA7B;--0fs:italic;--1:#0550AE">key</span><span style="--1:#CA212D"><span style="--0:#FF79C6">=</span><span style="--0:#F8F8F2">{</span></span><span style="--0:#F8F8F2;--1:#1F2328">todo.id</span><span style="--0:#F8F8F2;--1:#CA212D">}</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">          </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">h3</span><span style="--0:#F8F8F2;--1:#1F2328">></span><span style="--0:#F8F8F2;--1:#CA212D">{</span><span style="--0:#F8F8F2;--1:#1F2328">todo.title</span><span style="--0:#F8F8F2;--1:#CA212D">}</span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">h3</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">          </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">p</span><span style="--0:#F8F8F2;--1:#1F2328">></span><span style="--0:#F8F8F2;--1:#CA212D">{</span><span style="--0:#F8F8F2;--1:#1F2328">todo.completed </span><span style="--0:#FF79C6;--1:#CA212D">?</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">Completed</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--0:#FF79C6;--1:#CA212D">:</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">Not Completed</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#CA212D">}</span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">p</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">        </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">div</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">)</span><span style="--0:#F8F8F2;--1:#CA212D">}</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">    </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">main</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">  </span></span><span style="--0:#F8F8F2;--1:#1F2328">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div></code></pre></figure></div>
<div class="markdown-alert markdown-alert-tip" dir="auto">
<p class="markdown-alert-title" dir="auto"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>TIP</p>
<p>Feel free to wrap the TODOs <strong>in <code>routes/home.tsx</code></strong> in a <code>Link</code> component to navigate to the individual <strong>TODO</strong> route with a click.</p>
</div>
<p>The <code>loader</code> function runs on the <strong>server</strong>, so you won’t be able to see the network request in the browser’s console. We get good old HTML from the backend, which you can verify it by <strong>disabling JavaScript</strong> in the browser.</p>
<div class="markdown-alert markdown-alert-important" dir="auto">
<p class="markdown-alert-title" dir="auto"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>IMPORTANT</p>
<p>Remember to add a <strong>route</strong> in <code>app/routes.ts</code> to render the <code>todo.tsx</code> <strong>route module</strong>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">app/routes.ts</span></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> { </span><span style="--0:#FF79C6;--1:#CA212D">type</span><span style="--0:#F8F8F2;--1:#1F2328"> RouteConfig, index, route } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">@react-router/dev/routes</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> [</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#7A4BD1">index</span><span style="--0:#F8F8F2;--1:#953800">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/home.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">),</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#7A4BD1">route</span><span style="--0:#F8F8F2;--1:#953800">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">todo/:id</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">, </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/todo.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#953800">] </span><span style="--0:#FF79C6;--1:#CA212D">satisfies</span><span style="--1:#953800"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">RouteConfig</span></span></div></div></code></pre></figure></div>
<p>In the code above, we’re using a <a href="https://reactrouter.com/start/framework/routing#dynamic-segments">dynamic segment</a> in the <strong>first argument</strong> of the <code>route</code> function (<code>todo:id</code>). We end up with a <strong>dynamic route matcher</strong> that matches the URL <code>/todo/:id</code> and renders the <code>todo.tsx</code> <strong>route module</strong>. The <code>:id</code> part is an <strong>argument</strong> that we’ll be used in the <code>loader</code> function to render the TODO with that <code>id</code>.</p>
</div>
<h3 id="adding-a-layout-route"><a class="heading-anchor-link" href="#adding-a-layout-route">Adding a Layout Route</a></h3>
<p>It’s pretty common to have a <strong>layout component</strong> shared amongst several <strong>routes</strong> in our application. As you can see, both our <strong>route modules</strong> have a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/main">main</a> element repeated (in real life scenarios we’d have way more than that). We can define a <a href="https://reactrouter.com/start/framework/routing#layout-routes">layout route</a> in the <code>app/root.tsx</code> file:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">app/root.tsx</span></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> { Layout } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">@react-router/dev/routes</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> [</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#7A4BD1">layout</span><span style="--0:#F8F8F2;--1:#953800">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">"</span><span style="--0:#F1FA8C">./components/layout.tsx</span><span style="--0:#E9F284">"</span></span><span style="--0:#F8F8F2;--1:#953800">, [</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#50FA7B;--1:#7A4BD1">index</span><span style="--0:#F8F8F2;--1:#953800">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/home.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">),</span></div></div><div class="ec-line"><div class="code"><span class="indent">        </span><span style="--0:#50FA7B;--1:#7A4BD1">route</span><span style="--0:#F8F8F2;--1:#953800">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">todo/:id</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">, </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/todo.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#953800">    </span></span><span style="--0:#F8F8F2;--1:#953800">]),</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#953800">]</span></div></div></code></pre></figure></div>
<p>An this is the content of <code>components/layout.tsx</code>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">components/layout.tsx</span></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> { Outlet } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">react-router</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">function</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#50FA7B;--1:#7A4BD1">Layout</span><span style="--0:#F8F8F2;--1:#953800">() </span><span style="--0:#F8F8F2;--1:#1F2328">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">return</span><span style="--0:#F8F8F2;--1:#1F2328"> (</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">    </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">div</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">header</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">        </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">h1</span><span style="--0:#F8F8F2;--1:#1F2328">>TODO list app&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">h1</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">header</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#FF79C6;--1:#116329">main</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">        </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;</span><span style="--0:#8BE9FD;--0fs:italic;--1:#116329">Outlet</span><span style="--0:#F8F8F2;--1:#1F2328"> /></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">      </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">main</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">    </span></span><span style="--0:#F8F8F2;--1:#1F2328">&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">div</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#F8F8F2;--1:#1F2328">  </span></span><span style="--0:#F8F8F2;--1:#1F2328">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div></code></pre></figure></div>
<p>So the way this works is that the <code>Layout</code> component is rendered for all the <strong>nested routes</strong>, wrapping them, and the <code>Outlet</code> component is used to render the <strong>child routes</strong>.</p>
<div class="markdown-alert markdown-alert-important" dir="auto">
<p class="markdown-alert-title" dir="auto"><svg class="octicon" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>IMPORTANT</p>
<p>Every route in <code>routes.ts</code> is nested inside the special <a href="https://reactrouter.com/start/framework/routing#root-route">root route</a>, defined in the <code>app/root.tsx</code> module (Remember the <code>Layout</code> component we mentioned at the beginning?).</p>
</div>
<h3 id="nested-routes"><a class="heading-anchor-link" href="#nested-routes">Nested routes</a></h3>
<p>We can also define <a href="https://reactrouter.com/start/framework/routing#nested-routes">nested routes</a> in our application. Let’s say we want to have a</p>
<h3 id="adding-a-404-route"><a class="heading-anchor-link" href="#adding-a-404-route">Adding a 404 Route</a></h3>
<p>This one is really simple, we just have to add a route matcher that matches any URL:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">app/routes.ts</span></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">import</span><span style="--0:#F8F8F2;--1:#1F2328"> { </span><span style="--0:#FF79C6;--1:#CA212D">type</span><span style="--0:#F8F8F2;--1:#1F2328"> RouteConfig, index, route } </span><span style="--0:#FF79C6;--1:#CA212D">from</span><span style="--0:#F8F8F2;--1:#1F2328"> </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">@react-router/dev/routes</span><span style="--0:#E9F284">'</span></span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> [</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#7A4BD1">index</span><span style="--0:#F8F8F2;--1:#953800">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/home.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">),</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#7A4BD1">route</span><span style="--0:#F8F8F2;--1:#953800">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">todo/:id</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">, </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/todo.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">),</span></div></div><div class="ec-line"><div class="code"><span class="indent">    </span><span style="--0:#50FA7B;--1:#7A4BD1">route</span><span style="--0:#F8F8F2;--1:#953800">(</span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">*</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">, </span><span style="--1:#0A3069"><span style="--0:#E9F284">'</span><span style="--0:#F1FA8C">routes/not-found.tsx</span><span style="--0:#E9F284">'</span></span><span style="--0:#F8F8F2;--1:#953800">)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#953800">] </span><span style="--0:#FF79C6;--1:#CA212D">satisfies</span><span style="--1:#953800"><span style="--0:#F8F8F2"> </span><span style="--0:#8BE9FD;--0fs:italic">RouteConfig</span></span></div></div></code></pre></figure></div>
<p>And the content of <code>routes/not-found.tsx</code>:</p>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">routes/not-found.tsx</span></figcaption><pre data-language="tsx"><code><div class="ec-line"><div class="code"><span style="--0:#FF79C6;--1:#CA212D">export</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">default</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#FF79C6;--1:#CA212D">function</span><span style="--0:#F8F8F2;--1:#953800"> </span><span style="--0:#50FA7B;--1:#7A4BD1">NotFound</span><span style="--0:#F8F8F2;--1:#953800">() </span><span style="--0:#F8F8F2;--1:#1F2328">{</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#FF79C6;--1:#CA212D">return</span><span style="--0:#F8F8F2;--1:#1F2328"> &#x3C;</span><span style="--0:#FF79C6;--1:#116329">h1</span><span style="--0:#F8F8F2;--1:#1F2328">>404 - Not Found&#x3C;/</span><span style="--0:#FF79C6;--1:#116329">h1</span><span style="--0:#F8F8F2;--1:#1F2328">></span></div></div><div class="ec-line"><div class="code"><span style="--0:#F8F8F2;--1:#1F2328">}</span></div></div></code></pre></figure></div> </div> <div class="nav-btn" data-astro-cid-egg7nqdx> <div class="container start " data-astro-cid-xy2w5vvd> <a href="javascript:history.back()" class="btn" data-astro-cid-xy2w5vvd> <svg width="1em" height="1em" class="icon" data-astro-cid-xy2w5vvd="true" data-icon="ph:caret-double-left-bold">   <symbol id="ai:ph:caret-double-left-bold" viewBox="0 0 256 256"><path fill="currentColor" d="M208.49 199.51a12 12 0 0 1-17 17l-80-80a12 12 0 0 1 0-17l80-80a12 12 0 0 1 17 17L137 128ZM57 128l71.52-71.51a12 12 0 0 0-17-17l-80 80a12 12 0 0 0 0 17l80 80a12 12 0 0 0 17-17Z"/></symbol><use href="#ai:ph:caret-double-left-bold"></use>  </svg> <code data-astro-cid-xy2w5vvd>Go Back</code>  </a> </div>  </div> <section class="giscus" data-astro-cid-h26ly5qj> <div class="giscus-loading" data-astro-cid-h26ly5qj>Loading comments...</div> </section>  <script type="module">document.addEventListener("astro:page-load",()=>{function o(){const i=document.documentElement.classList.contains("dark");console.log("Current Theme:",i?"dark":"light");const s=document.querySelector("script[src*='giscus.app']"),e=document.querySelector(".giscus iframe");s&&s.remove(),e&&e.remove();const t=document.createElement("script");t.src="https://giscus.app/client.js",t.async=!0,t.crossOrigin="anonymous",t.setAttribute("data-repo","lifeBalance/code-blue-comments"),t.setAttribute("data-repo-id","R_kgDOOJ2hMw"),t.setAttribute("data-category","General"),t.setAttribute("data-category-id","DIC_kwDOOJ2hM84CoIT-"),t.setAttribute("data-mapping","title"),t.setAttribute("data-strict","0"),t.setAttribute("data-reactions-enabled","1"),t.setAttribute("data-emit-metadata","0"),t.setAttribute("data-input-position","bottom"),t.setAttribute("data-theme",i?"dark_dimmed":"light"),t.setAttribute("data-lang","en");const n=document.querySelector(".giscus");n&&n.appendChild(t),t.onload=()=>{const a=document.querySelector(".giscus-loading");a instanceof HTMLElement&&(a.style.display="none")}}new MutationObserver(()=>{const s=document.documentElement.classList.contains("dark")?"dark_dimmed":"light",e=document.querySelector(".giscus iframe");e instanceof HTMLIFrameElement&&e.contentWindow&&e.contentWindow.postMessage({giscus:{setConfig:{theme:s}}},"https://giscus.app")}).observe(document.documentElement,{attributes:!0}),o()});</script> </main>  <div id="footer-container" data-astro-cid-ouamjn2i> <footer data-astro-cid-sz7xmlte> <div class="made-with" data-astro-cid-sz7xmlte> <p data-astro-cid-sz7xmlte>Made with</p> <svg width="1em" height="1em" class="heart-logo" data-astro-cid-sz7xmlte="true" data-icon="pixelated-heart">   <symbol id="ai:local:pixelated-heart" viewBox="0 0 864 864"><path fill="#DC1419" d="M766.1 257.5c-8.2-8.5-24.7-1.8-37.8-3h-1.2c-7.9.9-11.6-1.8-11.3-10.4.6-10.7-.3-21.6.3-32.3.3-7.3-2.4-9.5-9.5-9.1-11.3.3-22.6-.3-33.8.3-6.4.3-8.8-2.1-8.5-8.5.3-11.3 0-22.6.3-33.8.3-6.7-2.1-9.5-9.1-9.5-46 .3-92.1.3-137.8 0-7.6 0-9.1 3-8.8 9.8.3 11.3 0 22.6.3 33.8.3 6.4-1.8 8.8-8.5 8.5-9.8-.3-19.8.3-29.9-.3s-14.9 1.8-14 13.1c.9 9.8 0 19.8.3 29.9.3 6.7-1.8 9.8-9.1 9.5-10.7-.6-21.6-.6-32.3 0-7.6.3-10.7-2.1-10.1-9.8.6-10.7 0-21.6.3-32.3.3-7.6-2.4-10.4-10.1-10.1-11.3.6-22.6-.3-33.8 0-6.4.3-8.8-2.1-8.8-8.5.3-11.6 0-23.5.3-35.1 0-5.5-1.8-8.2-7.6-7.9-46.3 0-93 .3-139.3 0-6.4 0-8.8 2.1-8.5 8.5.3 10.7-.3 21.6.3 32.3.3 7.9-1.8 11.6-10.4 11-9.5-.6-18.9.6-28.4-.3-9.8-.9-14 1.5-13.1 12.2.9 9.5-.3 18.9.3 28.4.6 8.5-1.5 12.5-11 11.9-9.5-.9-18.9.3-28.4-.3-9.8-.6-13.4 2.4-13.1 12.8.6 30.2.3 60.4.3 90.6v72.9c0 31.1 0 31.1 31.7 31.1 20.4 0 20.4 0 20.1 20.7 0 31.1 0 31.1 30.2 31.1 3.7 0 7.3.3 10.7 0 8.5-.9 10.7 2.7 10.7 11 0 13.4-6.1 32 2.7 38.4 9.1 6.7 26.8 2.7 40.9 1.8 6.7-.6 7.9 1.5 7.9 6.7v27.1c0 18.9 0 18.9 18.3 18.9 33.8 0 33.8 0 33.5 34.2-.3 18-3 18 16.8 18 34.8 0 35.4.3 34.8 35.1-.3 13.4 3 18.3 17.1 17.1 11.6-1.2 27.1-5.2 33.8 2.1 5.8 6.1 2.7 21.6 1.5 32.6-1.5 13.7 2.7 18.6 16.8 16.8 11-1.5 25.9 3.4 32.6-2.1 7.9-6.7 3-22 2.4-33.5-.6-12.8 2.7-17.7 16.5-16.5 11 1.2 25.6 4 32.6-1.5 8.5-6.7 3.4-22 2.7-33.2-.6-13.4 3.4-18 17.1-17.1 11 .9 25.3 5.2 32.6-1.8s2.1-21.3 2.4-32.3c.6-17.7.3-17.7 18.6-17.4 5.5 0 11-.6 16.2.3 13.1 1.8 18-2.4 17.4-16.8-1.5-35.4-.6-36 35.4-35.1 13.1.3 18.3-2.4 16.8-16.8-1.2-11-5.2-25.3 1.8-32.6 7-7.6 21.3-1.5 32.3-2.4 1.2 0 2.7-.3 4 0 11.3 2.1 13.4-3.4 13.1-13.4-.3-12.2-5.2-27.4 1.8-35.4 7.9-8.5 23.8-2.7 36-2.7 11 0 14.6-2.7 14.3-14-.6-51.5 0-102.8-.3-154.3-.2-14.3 5-30.5-2.3-38.4m-465 39.9c.3 7-2.7 9.5-9.5 9.1-9.8-.3-19.8.3-29.9-.3-9.8-.6-13.7 2.4-13.1 12.8.9 11.3.3 22.6.3 33.8v32.3c0 22.6-.3 45.1 0 67.7 0 7-1.8 9.8-9.1 9.1-11.3-.6-22.6-.6-33.8 0-7.6.3-8.8-2.7-8.8-9.5.3-45.4.3-91.2 0-136.6 0-7.9 2.4-10.7 10.1-10.1 8.5.6 17.1 0 25.6 1.5 11.6 2.1 15.9-3 16.2-13.1.3-10.4.3-20.7 0-31.1-.3-6.7 2.1-9.1 8.5-8.5h2.7c52.4 1.8 38.9-10.7 40.8 42.9"/></symbol><use href="#ai:local:pixelated-heart"></use>  </svg> <p data-astro-cid-sz7xmlte>and</p> <a class="astro-logo-container" href="https://astro.build/" target="_blank" data-astro-cid-sz7xmlte> <!-- The logo is in the icons folder; <Icon /> picks them from there. --> <svg width="3.03em" height="1em" class="astro-logo" data-astro-cid-sz7xmlte="true" data-icon="logos--astro">   <symbol id="ai:local:logos--astro" viewBox="0 0 512 169"><path fill="currentColor" d="M84.026 4.223c1.376 1.708 2.078 4.014 3.482 8.626l30.668 100.744A127.6 127.6 0 0 0 81.51 101.18L61.543 33.702a2.599 2.599 0 0 0-4.987.008L36.83 101.146A127.6 127.6 0 0 0 0 113.578L30.818 12.825c1.409-4.603 2.113-6.905 3.49-8.61a11.3 11.3 0 0 1 4.59-3.398C40.933 0 43.34 0 48.155 0h22.012c4.82 0 7.23 0 9.266.82a11.33 11.33 0 0 1 4.594 3.403"/><path fill="#ff5d01" d="M87.695 118.388c-5.055 4.323-15.146 7.271-26.77 7.271-14.266 0-26.223-4.441-29.396-10.414-1.135 3.423-1.389 7.34-1.389 9.844 0 0-.747 12.29 7.8 20.837a8.037 8.037 0 0 1 8.037-8.036c7.607 0 7.599 6.637 7.592 12.022v.48c0 8.173 4.995 15.18 12.099 18.133a16.5 16.5 0 0 1-1.657-7.223c0-7.795 4.577-10.698 9.896-14.07 4.231-2.685 8.933-5.667 12.174-11.649a22 22 0 0 0 2.65-10.494c0-2.337-.363-4.588-1.036-6.701"/><path fill="currentColor" d="M188.585 112.018c12.828 0 22.45-4.564 26.396-12.334 0 3.7.245 7.524.863 10.484h21.09l-.06-.266c-.935-4.25-1.408-10.009-1.418-17.505V73.165c0-18.008-10.609-26.518-34.166-26.518-20.599 0-34.413 8.51-36.016 22.448h21.955c.74-6.044 5.796-9.374 14.061-9.374 8.14 0 12.703 3.33 12.703 10.238v1.85l-22.324 1.973c-10.746 1.1-16.898 2.923-21.208 5.832l-.13.088c-4.564 3.084-6.907 7.771-6.907 13.568 0 11.594 9.62 18.748 25.161 18.748m8.141-12.828c-7.155 0-11.47-2.836-11.47-7.4 0-4.687 3.575-7.154 12.58-8.264l16.527-1.727v3.7c0 8.264-7.153 13.691-17.637 13.691m84.694 12.828c21.463 0 32.44-8.017 32.44-20.968 0-10.73-6.168-16.651-21.091-18.625l-18.627-2.097c-5.302-.74-7.523-2.097-7.523-5.057 0-3.577 3.577-5.18 11.717-5.18 11.224 0 18.995 2.59 25.287 7.647l9.99-9.99c-6.908-7.154-18.871-11.101-33.672-11.101-20.845 0-32.44 7.4-32.44 19.858 0 10.854 7.154 16.898 21.954 18.87l16.776 1.974c6.66.864 8.634 2.097 8.634 5.304 0 3.7-3.701 5.674-12.335 5.674-12.827 0-21.46-3.454-27.258-9.867l-11.347 9.374c7.523 9.374 20.35 14.184 37.495 14.184m49.854-49.584V88.46c0 15.294 8.633 23.065 27.135 23.065 5.674 0 10.114-.617 14.308-1.85V93.64l-.355.078c-2.154.466-4.768.909-8.156.909-7.77 0-11.594-3.454-11.594-10.731V62.434h20.228V48.497h-20.228V25.925l-21.338 7.894v14.678h-13.815v13.937zm72.2-13.937h-19.488v61.67h21.338V87.104c0-6.66 1.48-12.704 5.552-16.528 3.207-2.96 7.77-4.563 14.183-4.563 2.344 0 4.194.246 6.29.493V47.14c-1.355-.247-2.343-.247-4.069-.247-12.212 0-20.475 7.03-23.806 18.502zm70.042 63.52c22.573 0 38.484-11.963 38.484-32.808 0-20.721-15.911-32.562-38.484-32.562-22.694 0-38.605 11.84-38.605 32.562 0 20.845 15.91 32.809 38.605 32.809m0-14.183c-10.36 0-16.897-6.66-16.897-18.625s6.537-18.378 16.897-18.378c10.238 0 16.776 6.414 16.776 18.378s-6.538 18.625-16.776 18.625"/></symbol><use href="#ai:local:logos--astro"></use>  </svg> </a> </div> <div class="copyright" data-astro-cid-sz7xmlte> <p id="year" data-astro-cid-sz7xmlte>© 2023</p> </div> </footer>  <script>
  document.addEventListener('astro:page-load', () => {
    const currentYear = new Date().getFullYear()
    const yearElement = document.querySelector('#year')
    yearElement.textContent = `© ${currentYear}`
  })
</script> </div>  <script>(function(){const rootPath = "/";
const pathname = "/posts/rr7/";

      document.addEventListener('astro:page-load', () => {
        console.log('MainLayout - rootPath:', rootPath)
        console.log('MainLayout - pathname:', pathname)

        function manageHero() {
          if (pathname !== rootPath) {
            console.log('Not on landing page, skipping hero logic')
            return
          }
          const body = document.querySelector('body')
          const heroContainer = document.getElementById('hero-container')
          const ensoIcon = document.querySelector('.enso-icon')

          // Exit early if not on landing page or elements are missing
          // if (!heroContainer || !body || !ensoIcon) {
          if (!heroContainer || !body) {
            console.log(
              'Not on landing page or elements missing, skipping hero logic'
            )
            // heroContainer.classList.add('hidden-complete')
            // body.classList.remove('no-scroll')
            // Update sessionStorage
            sessionStorage.setItem('showAnimation', 'not-null')
            return
          }

          // Log sessionStorage state for debugging
          console.log('showAnimation:', sessionStorage.getItem('showAnimation'))

          // Check if this is the first load (showAnimation is not yet defined)
          const showAnimation = sessionStorage.getItem('showAnimation')

          // if (showAnimation == null && heroContainer && ensoIcon) {
          if (showAnimation == null && heroContainer) {
            console.log(
              'First load detected (showAnimation is null), showing hero animation'
            )
            // Reset all classes to ensure animation starts from scratch
            heroContainer.classList.remove('hidden', 'hidden-complete')

            // Show the `.enso-icon` during the last 2 seconds of the animation
            // setTimeout(() => {
            //   console.log('Showing Enso icon')
            //   ensoIcon.classList.add('show-enso')
            // }, 4000) // 6s animation - 2s = 4s

            setTimeout(() => {
              console.log('10 seconds up, fading out hero')
              heroContainer.classList.add('hidden')
              heroContainer.addEventListener(
                'transitionend',
                () => {
                  console.log('Hero transition ended, hiding completely')
                  heroContainer.classList.add('hidden-complete')
                  body.classList.remove('no-scroll')
                  // Update sessionStorage
                  sessionStorage.setItem('showAnimation', 'not-null')
                },
                { once: true }
              )
            }, 6000)
          } else {
            console.log(
              'Subsequent load/navigation (showAnimation is defined), hiding hero immediately'
            )
            // Ensure hero is hidden and navbar/content are visible
            heroContainer.classList.add('hidden-complete')
            body.classList.remove('no-scroll')
          }
        }

        // Run on every page load/navigation
        // document.addEventListener('astro:page-load', manageHero)
        // Clear sessionStorage on page hard refresh
        window.addEventListener('beforeunload', () => {
          // Remove only when is hard refresh from the landing page!
          if (pathname === rootPath) sessionStorage.removeItem('showAnimation')
        })
        manageHero()
      })
    })();</script> </body> </html> <script type="module">document.addEventListener("astro:page-load",()=>{const o=document.getElementById("img-thumbnail"),e=document.querySelector(".img-overlay"),t=document.querySelector("#toc"),i=document.querySelector(".cinemascope-responsive");o&&e&&o.addEventListener("click",()=>{const c=e.getAttribute("data-visible")==="true";e.setAttribute("data-visible",c?"false":"true")}),t&&i&&window.addEventListener("scroll",()=>{i.getBoundingClientRect().bottom<0?(console.log("cinemascope out of view"),t.setAttribute("data-hidden","false")):(console.log("cinemascope in view"),t.setAttribute("data-hidden","true"))})});</script> 